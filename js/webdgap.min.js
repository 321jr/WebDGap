function displayPreview(e){var n=new FileReader;n.onload=function(e){var n=new Image,a=new Image,t=new Image,i=new Image,o=new Image,s=new Image,r=new Image,l=new Image,p=new Image,d=new Image,c=new Image,m=new Image,g=new Image;n.src=e.target.result,a.src=e.target.result,t.src=e.target.result,i.src=e.target.result,a.onload=function(){ctx16.clearRect(0,0,16,16),ctx16.drawImage(a,0,0,16,16)},t.onload=function(){ctx32.clearRect(0,0,32,32),ctx32.drawImage(t,0,0,32,32)},i.onload=function(){ctx64.clearRect(0,0,64,64),ctx64.drawImage(i,0,0,64,64)},n.onload=function(){ctx.clearRect(0,0,128,128),ctx.drawImage(n,0,0,128,128)},o.src=e.target.result,s.src=e.target.result,r.src=e.target.result,l.src=e.target.result,p.src=e.target.result,d.src=e.target.result,c.src=e.target.result,m.src=e.target.result,g.src=e.target.result,o.onload=function(){ctx96.clearRect(0,0,96,96),ctx96.drawImage(i,0,0,96,96)},s.onload=function(){ctx72.clearRect(0,0,72,72),ctx72.drawImage(i,0,0,72,72)},r.onload=function(){ctx48.clearRect(0,0,48,48),ctx48.drawImage(i,0,0,48,48)},l.onload=function(){ctx36.clearRect(0,0,36,36),ctx36.drawImage(i,0,0,36,36)},p.onload=function(){ctx144.clearRect(0,0,144,144),ctx144.drawImage(i,0,0,144,144)},d.onload=function(){ctx57.clearRect(0,0,57,57),ctx57.drawImage(i,0,0,57,57)},c.onload=function(){ctx114.clearRect(0,0,114,114),ctx114.drawImage(i,0,0,114,114)},m.onload=function(){ctx173.clearRect(0,0,173,173),ctx173.drawImage(i,0,0,173,173)},g.onload=function(){ctx64.clearRect(0,0,62,62),ctx64.drawImage(i,0,0,62,62)};var h=$(".imgorigholder"),u=e.target.result,f=$("<img>");f.attr("src",u),h.empty(),h.append(f)},$(".img--avatar").addClass("hide"),$("[data-id=sitename]").attr("disabled","true"),n.readAsDataURL(e)}$("html, body").animate({scrollTop:0},"slow"),document.querySelector(".dialog").style.display="none",document.querySelector(".export64").onclick=function(){$(".64bit").removeClass("hide"),$(".32bit").addClass("hide"),$("html, body").animate({scrollTop:$(".chosenbit").offset().top},"slow")},document.querySelector(".export32").onclick=function(){$(".64bit").addClass("hide"),$(".32bit").removeClass("hide"),$("html, body").animate({scrollTop:$(".chosenbit").offset().top},"slow")},$(".export-as-win32-app, .export-as-win-app, .export-as-mac-app, .export-as-lin32-app, .export-as-lin-app").click(function(){$(document.body).append('<div class="fixedfill preloader"></div>'),$(".preloader").html('<div class="table"><div class="cell"><h1>Creating application!</h1><div class="spinner"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div></div></div>')}),$("[data-id=convertapp], [data-id=convertsite]").on("click",function(){"convertapp"===$(this).attr("data-id").toLowerCase()?(document.querySelector(".maindesc").textContent="Convert any web application to a native Windows/Linux/Mac/Chrome application.",$("[data-id=appspace]").removeClass("hide"),$(".export-for-pgb").addClass("export-pgbapp")):"convertsite"===$(this).attr("data-id").toLowerCase()&&(document.querySelector(".maindesc").textContent="Convert any website to a native Windows/Linux/Mac/Chrome application.",$("[data-id=webspace]").removeClass("hide"),$(".outputname").addClass("convertsite-picked"),$("[data-id=sitename]").addClass("convertsite-chosen"),$(".logoisloadedapp, [data-listen=site]").addClass("hide"),document.querySelector(".export-for-pgb").href="https://gonative.io/",document.querySelector(".export-for-pgb").target="_blank"),$("[data-id=sitename]").focus(),$("body").removeClass("noscroll"),$(".wholedialog").fadeOut()}),document.querySelector("[data-action=website]").onkeyup=function(e){"https://"===this.value.toLowerCase().substring(0,8)&&($(".export-as-chrome-app").addClass("hide"),alertify.message('https is not recommend.<br /><br /> If needed use <a href="https://bitly.com/shorten/">Bitly</a> to set url to http.')),this.value?"http://"===this.value.toLowerCase().substring(0,7)||"https://"===this.value.toLowerCase().substring(0,8)?($("[data-action=applyvalues]").removeClass("hide"),$("html, body").animate({scrollTop:$(this).offset().top},"slow"),13==e.which&&$("[data-action=applyvalues]").trigger("click")):$("[data-action=applyvalues]").addClass("hide"):$(".checkimageloader, [data-action=applyvalues]").addClass("hide")},document.querySelector("[data-id=sitename]").onkeyup=function(e){$(this).hasClass("convertsite-chosen")?this.value?($("[data-action=website]").removeClass("hide"),13==e.which&&$("[data-action=website]").focus()):$("[data-action=website]").addClass("hide"):this.value?($(".checkimageloader").removeClass("hide"),13==e.which&&$("#load").trigger("click")):$(".checkimageloader").addClass("hide"),document.querySelector(".outputname").textContent=this.value},document.querySelector("[data-action=applyvalues]").addEventListener("click",function(){$(".checkimageloader, .outputname").removeClass("hide"),$(".logoisloadedsite").addClass("hide"),document.querySelector(".outputname").textContent=document.querySelector("[data-id=sitename]").value}),document.querySelector("[data-action=reload]").addEventListener("click",function(){location.reload(!0)}),document.querySelector(".reset").onclick=function(){document.querySelector(".resetval").value=""},$(".export-for-chrome").on("click",function(){$(".pickchromes").toggleClass("hide"),$(".phonegap-dialog").hide(),$("html, body").animate({scrollTop:$(".pickchromes").offset().top},"slow")}),$("[data-pgb=version], [data-pgb=versionCode], [data-pgb=description], [data-pgb=author], [data-pgb=authoremail], [data-pgb=authorlink]").keyup(function(){$("[data-pgb=version]").val()&&$("[data-pgb=versionCode]").val()&&$("[data-pgb=description]").val()&&$("[data-pgb=author]").val()&&$("[data-pgb=authoremail]").val()&&$("[data-pgb=authorlink]").val()?$(".pgbappexport").removeClass("hide"):$(".pgbappexport").is(":visible")&&$(".pgbappexport").addClass("hide")});var audioCapture,videoCapture,storagePerm,setOffline,listPermissions,listIntentions,telIntent,smsIntent,mailtoIntent,geoIntent,marketIntent,filestorageIntent,loader=$("#load"),c16=$(".n16"),c32=$(".n32"),c64=$(".n64"),c96=$(".n96"),c72=$(".n72"),c48=$(".n48"),c36=$(".n36"),c144=$(".n144"),c57=$(".n57"),c114=$(".n114"),c173=$(".n173"),c62=$(".n62"),canvas=$(".holder"),holder=document.getElementById("imageloader"),loadFiles=$("#file, .load"),ctx16=c16[0].getContext("2d"),ctx32=c32[0].getContext("2d"),ctx64=c64[0].getContext("2d"),ctx96=c96[0].getContext("2d"),ctx72=c72[0].getContext("2d"),ctx48=c48[0].getContext("2d"),ctx36=c36[0].getContext("2d"),ctx144=c144[0].getContext("2d"),ctx57=c57[0].getContext("2d"),ctx114=c114[0].getContext("2d"),ctx173=c173[0].getContext("2d"),ctx62=c62[0].getContext("2d"),ctx=canvas[0].getContext("2d"),executeApp=function(e){$(".chromeappcheck").addClass("hide");var n=new FileReader;n.onload=function(e){return $(".export-as-win-app").on("click",function(){return JSZipUtils.getBinaryContent("assets/YourWinApp.zip",function(e,n){if(e)throw e;var a=new JSZip(n),t=c16[0].toDataURL("image/png"),i=c32[0].toDataURL("image/png"),o=c64[0].toDataURL("image/png"),s=canvas[0].toDataURL("image/png");a.file("resources/default_app/icons/16.png",t.split("base64,")[1],{base64:!0}),a.file("resources/default_app/icons/32.png",i.split("base64,")[1],{base64:!0}),a.file("resources/default_app/icons/64.png",o.split("base64,")[1],{base64:!0}),a.file("resources/default_app/icons/128.png",s.split("base64,")[1],{base64:!0}),a.file("resources/default_app/icons/logo.png",$(".imgorigholder > img").attr("src").split("base64,")[1],{base64:!0}),a.file("resources/default_app/css/style.css","html, body {\n  height: 100%;\n  padding: 0;\n  margin: 0;\n  overflow: hidden;\n}\n\niframe {\n  width: 100%;\n  height: 100%;\n  border: 0;\n}"),a.file("resources/default_app/index.html","<!DOCTYPE html>\n<html>\n  <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <meta charset="utf-8">\n    <meta name="viewport" content="initial-scale=1.0">\n    <meta http-equiv="X-UA-Compatible" content="IE=9" />\n    <link type="text/css" rel="stylesheet" href="css/style.css" />\n  </head>\n  <body>\n    <iframe src="'+$("[data-action=website]").val()+'">\n      Your browser does not support the iFrame html elements.\n    </iframe>\n  </body>\n</html>'),a.file("resources/default_app/package.json",'{\n  "name": "'+$("[data-id=sitename]").val()+'",\n  "productName": "'+$("[data-id=sitename]").val()+'",\n  "version": "1.0.0",\n  "main": "default_app.js",\n  "license": "MIT"\n}\n');var r=a.generate({type:"blob"});return saveAs(r,$("[data-id=sitename]").val().replace(/ /g,"-").toLowerCase()+"-winsite.zip"),$(".preloader").remove(),!1}),!1}),$(".export-as-win32-app").on("click",function(){JSZipUtils.getBinaryContent("assets/YourWin32App.zip",function(e,n){if(e)throw e;var a=new JSZip(n),t=c16[0].toDataURL("image/png"),i=c32[0].toDataURL("image/png"),o=c64[0].toDataURL("image/png"),s=canvas[0].toDataURL("image/png");a.file("app/icons/16.png",t.split("base64,")[1],{base64:!0}),a.file("app/icons/32.png",i.split("base64,")[1],{base64:!0}),a.file("app/icons/64.png",o.split("base64,")[1],{base64:!0}),a.file("app/icons/128.png",s.split("base64,")[1],{base64:!0}),a.file("app/icons/logo.png",$(".imgorigholder > img").attr("src").split("base64,")[1],{base64:!0}),a.file("package.json",'{\n  "main"  : "app/index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n      "toolbar" : false,\n      "icon"    : "app/icons/128.png",\n      "width"   : 1000,\n      "height"  : 600,\n      "position": "center"\n  }\n}'),a.file("app/index.html","<!doctype html>\n<html>\n <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <style>\n      iframe {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: visible;\n        border: 0;\n      }\n    </style>\n  </head>\n <body>\n    <iframe src="'+$("[data-action=website]").val()+'">\n      Your browser does not support the iFrame html elements.\n    </iframe>\n  </body>\n</html>');var r=a.generate({type:"blob"});return saveAs(r,$("[data-id=sitename]").val().replace(/ /g,"-").toLowerCase()+"-win32site.zip"),$(".preloader").remove(),!1})}),$(".export-as-mac-app").on("click",function(){return JSZipUtils.getBinaryContent("assets/YourMacApp.zip",function(e,n){if(e)throw e;var a=new JSZip(n),t=c16[0].toDataURL("image/png"),i=c32[0].toDataURL("image/png"),o=c64[0].toDataURL("image/png"),s=canvas[0].toDataURL("image/png");a.file("data/content/icons/16.png",t.split("base64,")[1],{base64:!0}),a.file("data/content/icons/32.png",i.split("base64,")[1],{base64:!0}),a.file("data/content/icons/64.png",o.split("base64,")[1],{base64:!0}),a.file("data/content/icons/128.png",s.split("base64,")[1],{base64:!0}),a.file("data/content/icons/logo.png",$(".imgorigholder > img").attr("src").split("base64,")[1],{base64:!0}),a.file("data/package.json",'{\n  "main"  : "content/index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n    "toolbar"    : false\n  }\n}'),a.file("data/content/index.html","<!doctype html>\n<html>\n <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <style>\n      iframe {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: visible;\n        border: 0;\n      }\n    </style>\n  </head>\n <body>\n    <iframe src="'+$("[data-action=website]").val()+'"></iframe>\n\n    <script src="js/main.js"></script>\n  </body>\n</html>'),a.file("data/content/js/main.js",'document.addEventListener("DOMContentLoaded", function() {\n  // Load library\n  var gui = require("nw.gui");\n\n  // Reference to window\n  var win = gui.Window.get();\n\n  // Create menu container\n  var Menu = new gui.Menu({\n    type: "menubar"\n  });\n\n  //initialize default mac menu\n  Menu.createMacBuiltin("'+$("[data-id=sitename]").val()+'");\n\n  // Get the root menu from the default mac menu\n  var rootMenu = Menu.items[0].submenu;\n  var windowMenu = Menu.items[2].submenu;\n\n  // Append new item to root menu\n  windowMenu.insert(\n    new gui.MenuItem({\n      type: "normal",\n      label: "Toggle Fullscreen",\n      key: "F",\n      modifiers: "cmd",\n      click : function () {\n        win.toggleFullscreen();\n      }\n    })\n  );\n\n  windowMenu.insert(\n    new gui.MenuItem({\n      type: "normal",\n      label: "Reload App",\n      key: "r",\n      modifiers: "cmd",\n      click : function () {\n        win.reload();\n      }\n    })\n  );\n\n  // Remove About Node-Webkit\n  rootMenu.removeAt(0);\n\n  // Append Menu to Window\n  gui.Window.get().menu = Menu;\n});'),a.file("run.sh","open -a /Applications/"+$("[data-id=sitename]").val()+".app/Contents/data/"+$("[data-id=sitename]").val().replace(/ /g,"")+".app");var r=a.generate({type:"blob"});return saveAs(r,$("[data-id=sitename]").val().replace(/ /g,"-").toLowerCase()+"-macsite.zip"),$(".preloader").remove(),!1}),!1}),$(".export-as-lin-app").on("click",function(){return JSZipUtils.getBinaryContent("assets/YourLinApp.zip",function(e,n){if(e)throw e;var a=new JSZip,t=a.folder($("[data-id=sitename]").val().replace(/ /g,"-"));t.load(n);var i=c16[0].toDataURL("image/png"),o=c32[0].toDataURL("image/png"),s=c64[0].toDataURL("image/png"),r=canvas[0].toDataURL("image/png");t.file("resources/default_app/icons/16.png",i.split("base64,")[1],{base64:!0}),t.file("resources/default_app/icons/32.png",o.split("base64,")[1],{base64:!0}),t.file("resources/default_app/icons/64.png",s.split("base64,")[1],{base64:!0}),t.file("resources/default_app/icons/128.png",r.split("base64,")[1],{base64:!0}),t.file("resources/default_app/icons/logo.png",$(".imgorigholder > img").attr("src").split("base64,")[1],{base64:!0}),t.file("resources/default_app/index.html","<!DOCTYPE html>\n<html>\n  <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <style>\n      html, body {\n        height: 100%;\n      }\n      body {\n        margin: 0;\n        padding: 0;\n        overflow: hidden;\n      }\n      iframe {\n        width: 100%;\n        height: 100%;\n        border: 0;\n      }\n    </style>\n  </head>\n  <body>\n    <iframe src="'+$("[data-action=website]").val()+'"></iframe>\n  </body>\n</html>'),t.file("resources/default_app/package.json",'{\n  "name": "'+$("[data-id=sitename]").val()+'",\n  "productName": "'+$("[data-id=sitename]").val()+'",\n  "version": "1.0.0",\n  "main": "default_app.js",\n  "license": "MIT"\n}\n'),a.file("make.sh","if [ -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/electron\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/resources/default_app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 electron\nfi\n\nif [ ! -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  mv "+$("[data-id=sitename]").val().replace(/ /g,"-")+" ${HOME}\n\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/electron\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/resources/default_app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 electron\nfi\n\n# For Windows OS\n#if EXIST ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" (\n  #echo Yes\n#) ELSE (\n  #echo No\n#)\n"),a.file("README.md","### Instructions\n 1. Extract the `"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite.zip` folder anywhere on your computer except the home folder. \n 2. Open a terminal and then navigate to "+$("[data-id=sitename]").val().replace(/ /g,"-")+"'s directory and `run the make.sh file`.\n\n  **example**:\n  cd Downloads/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite\n\n 3. This will move the "+$("[data-id=sitename]").val().replace(/ /g,"-")+" sibling folder and it's descendants to your home directory and create an application launcher.\n");var l=a.generate({type:"blob"});return saveAs(l,$("[data-id=sitename]").val().replace(/ /g,"-").toLowerCase()+"-linsite.zip"),$(".preloader").remove(),!1}),!1}),$(".export-as-lin32-app").on("click",function(){JSZipUtils.getBinaryContent("assets/YourLin32App.zip",function(e,n){if(e)throw e;var a=new JSZip,t=a.folder($("[data-id=sitename]").val().replace(/ /g,"-"));t.load(n);var i=c16[0].toDataURL("image/png"),o=c32[0].toDataURL("image/png"),s=c64[0].toDataURL("image/png"),r=canvas[0].toDataURL("image/png");t.file("app/icons/16.png",i.split("base64,")[1],{base64:!0}),t.file("app/icons/32.png",o.split("base64,")[1],{base64:!0}),t.file("app/icons/64.png",s.split("base64,")[1],{base64:!0}),t.file("app/icons/128.png",r.split("base64,")[1],{base64:!0}),t.file("app/icons/logo.png",$(".imgorigholder > img").attr("src").split("base64,")[1],{base64:!0}),t.file("package.json",'{\n  "main"  : "app/index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n      "toolbar" : false,\n      "icon"    : "app/icons/128.png",\n      "width"   : 1000,\n      "height"  : 600,\n      "position": "center"\n  }\n}'),t.file("app/index.html","<!doctype html>\n<html>\n <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <style>\n      iframe {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: visible;\n        border: 0;\n      }\n    </style>\n  </head>\n <body>\n    <iframe src="app/index.html"></iframe>\n  </body>\n</html>'),a.file("make.sh","if [ -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/nw\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 nw\nfi\n\nif [ ! -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  mv "+$("[data-id=sitename]").val().replace(/ /g,"-")+" ${HOME}\n\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/nw\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 nw\nfi\n\n# For Windows OS\n#if EXIST ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" (\n  #echo Yes\n#) ELSE (\n  #echo No\n#)\n"),a.file("README.md","### Instructions\n 1. Extract the `"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site.zip` folder anywhere on your computer except the home folder. \n 2. Open a terminal and then navigate to "+$("[data-id=sitename]").val().replace(/ /g,"-")+"'s directory and `run the make.sh file`.\n\n  **example**:\n  cd Downloads/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site\n\n 3. This will move the "+$("[data-id=sitename]").val().replace(/ /g,"-")+" sibling folder and it's descendants to your home directory and create an application launcher.\n");var l=a.generate({type:"blob"});return saveAs(l,$("[data-id=sitename]").val().replace(/ /g,"-").toLowerCase()+"-lin32site.zip"),$(".preloader").remove(),!1})}),$(".chromeapp").on("click",function(){$(".chromeappexport").removeClass("hide"),$(".chromepopexport").addClass("hide"),$(".chrome-border").fadeIn(),$("html, body").animate({scrollTop:$(".chrome-border").offset().top},"slow")}),$(".chromepopup").on("click",function(){$(".chromeappexport").addClass("hide"),$(".chromepopexport").removeClass("hide"),$(".chrome-border").fadeIn(),$("html, body").animate({scrollTop:$(".chrome-border").offset().top},"slow")}),$("input.chromeappexport").on("click",function(){if(document.querySelector("[data-value=description]").value){$(".preloader").removeClass("hide");var e=new JSZip,n=c16[0].toDataURL("image/png"),a=c32[0].toDataURL("image/png"),t=c64[0].toDataURL("image/png"),i=canvas[0].toDataURL("image/png");e.file("img/16.png",n.split("base64,")[1],{base64:!0}),e.file("img/32.png",a.split("base64,")[1],{base64:!0}),e.file("img/64.png",t.split("base64,")[1],{base64:!0}),e.file("img/128.png",i.split("base64,")[1],{base64:!0}),e.file("img/logo.png",$(".imgorigholder > img").attr("src").split("base64,")[1],{base64:!0}),audioCapture=document.getElementById("audiocapture").checked?', "audioCapture"':"",videoCapture=document.getElementById("videocapture").checked?', "videoCapture"':"",storagePerm=document.getElementById("storage").checked?', "storage", "fileSystem", "unlimitedStorage"':"",listPermissions=audioCapture+videoCapture+storagePerm,e.file("css/reset.css","/* http://meyerweb.com/eric/tools/css/reset/ \n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n	margin: 0;\n	padding: 0;\n	border: 0;\n	font-size: 100%;\n	font: inherit;\n	vertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n	display: block;\n}\nbody {\n	line-height: 1;\n}\nol, ul {\n	list-style: none;\n}\nblockquote, q {\n	quotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n	content: '';\n	content: none;\n}\ntable {\n	border-collapse: collapse;\n	border-spacing: 0;\n}"),e.file("css/style.css","webview {\n    width: 100vw;\n    height: 100vh;\n}"),e.file("html/embed.html",'<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset="UTF-8">\n    <title>'+$("[data-id=sitename]").val()+'</title>\n    <link rel="stylesheet" href="../css/reset.css">\n    <link rel="stylesheet" href="../css/style.css">\n  </head>\n  <body>\n    <webview id="webview" src="'+$("[data-action=website]").val()+'" partition="persist:applicationize"></webview>\n  </body>\n</html>'),e.file("js/background.js","/**\n * Listens for the app launching then creates the window\n *\n * @see http://developer.chrome.com/apps/app.runtime.html\n * @see http://developer.chrome.com/apps/app.window.html\n */\nchrome.app.runtime.onLaunched.addListener(function () {\n    runApp();\n});\n\n/**\n * Listens for the app restarting then re-creates the window.\n *\n * @see http://developer.chrome.com/apps/app.runtime.html\n */\nchrome.app.runtime.onRestarted.addListener(function () {\n    runApp();\n});\n\n/**\n * Creates the window for the application.\n *\n * @see http://developer.chrome.com/apps/app.window.html\n */\nfunction runApp() {\n    // Creat a new Chrome app window\n    chrome.app.window.create('html/embed.html', {\"id\":\"embed\",\"frame\":{\"type\":\"chrome\"},\"innerBounds\":{\"width\":1180,\"height\":900}}, onWindowLoaded());\n}\n\n/**\n * Called before the contentWindow's onload event\n *\n * @see http://developer.chrome.com/apps/app.window.html\n */\nfunction onWindowLoaded(popup) {\n    return function (win) {\n        // On window loaded event\n        win.contentWindow.onload = function () {\n            // Get webview \n            var webview = win.contentWindow.document.getElementById('webview');\n\n            // Sign up for 'permissionrequest' event\n            webview.addEventListener('permissionrequest', function (e) {\n                // Allow all permission requests\n                e.request.allow();\n            });\n\n            // Sign up for 'newwindow' event\n            // Emitted when a target='_blank' link is clicked within the webview\n            webview.addEventListener('newwindow', function (e) {\n                // Popup?\n                if (e.initialWidth > 0 && e.initialHeight > 0) {\n                    // Open it in a popup window with a set width and height\n                    return chrome.app.window.create('html/embed.html', { frame: { type: 'chrome' }, innerBounds: { width: e.initialWidth, height: e.initialHeight } }, onWindowLoaded(e));\n                }\n\n                // Open the link in a new browser tab/window\n                win.contentWindow.open(e.targetUrl);\n            });\n\n            // Is this a popup window?\n            if (popup) {\n                // Override webview source with popup's target URL\n                webview.src = popup.targetUrl;\n            }\n        };\n    };\n}\n"),e.file("manifest.json",'{\n   "app": {\n      "background": {\n         "pages": [ "html/embed.html" ],\n         "scripts": [ "js/background.js" ]\n      }\n   },\n   "description": "'+$("[data-value=description]").val()+'",\n   "icons": {\n      "128": "img/128.png",\n      "16" : "img/16.png",\n      "32" : "img/32.png",\n      "64" : "img/64.png"\n   },\n   "manifest_version": 2,\n   "name": "'+$("[data-id=sitename]").val()+'",\n   "permissions": [ "webview"'+listPermissions+', "http://*/", "https://*/" ],\n   "version": "'+$("[data-value=version]").val()+'"\n}\n');var o=e.generate({type:"blob"});saveAs(o,$("[data-id=sitename]").val().replace(/ /g,"-").toLowerCase()+"-chromewebview.zip"),$(".chrome-border").fadeOut(),$("html, body").animate({scrollTop:$(".chosenbit").offset().top},"slow"),$(".preloader").remove()}else alertify.error("Unable to export: Description is blank!");return!1}),$(".chromepopexport").on("click",function(){if(document.querySelector("[data-value=description]").value){$(".preloader").removeClass("hide");var e=new JSZip,n=c16[0].toDataURL("image/png"),a=c32[0].toDataURL("image/png"),t=c64[0].toDataURL("image/png"),i=canvas[0].toDataURL("image/png");e.file("assets/16.png",n.split("base64,")[1],{base64:!0}),e.file("assets/32.png",a.split("base64,")[1],{base64:!0}),e.file("assets/64.png",t.split("base64,")[1],{base64:!0}),e.file("assets/128.png",i.split("base64,")[1],{base64:!0}),e.file("assets/logo.png",$(".imgorigholder > img").attr("src").split("base64,")[1],{base64:!0}),e.file("background.js","/**\n * Listens for the app launching, then creates the window.\n *\n * @see http://developer.chrome.com/apps/app.runtime.html\n * @see http://developer.chrome.com/apps/app.window.html\n */\nchrome.app.runtime.onLaunched.addListener(function(launchData) {\n  chrome.app.window.create(\n    'index.html',\n    {\n      id: 'mainWindow',\n      innerBounds: {\n        'width': 800,\n        'height': 600\n      }\n    }\n  );\n});"),e.file("css/style.css","html, body {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n}\n\nbody {\n  min-width: 300px;\n  min-height: 420px;\n}\n\nwebview, iframe {\n  width: 100%;\n  height: 100%;\n  border: 0;\n}"),e.file("index.html","<!DOCTYPE html>\n<html>\n  <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <link rel="stylesheet" href="css/style.css" />\n  </head>\n  <body>\n    <iframe src="'+$("[data-action=website]").val()+'">\n      Your version of Chrome does not support the iFrame element.\n    </iframe>\n  </body>\n</html>'),e.file("manifest.json",'{\n  "manifest_version": 2,\n  "name": "'+$("[data-id=sitename]").val()+'",\n  "short_name": "'+$("[data-id=sitename]").val()+'",\n  "description": "'+$("[data-value=description]").val()+'",\n  "version": "'+$("[data-value=version]").val()+'",\n  "minimum_chrome_version": "38",\n  "permissions": [ "storage", "unlimitedStorage", "http://*/", "https://*/" ],\n  "icons": {\n    "16": "assets/16.png",\n    "32": "assets/32.png",\n    "64": "assets/64.png",\n    "128": "assets/128.png"\n  },\n\n  "browser_action": {\n    "default_icon": "assets/128.png",\n    "default_title": "'+$("[data-id=sitename]").val()+'",\n    "default_popup": "index.html"\n  },\n  \n  "content_security_policy": "script-src \'self\' \'unsafe-eval\'; object-src \'self\'"\n}');var o=e.generate({type:"blob"});return saveAs(o,$("[data-id=sitename]").val().replace(/ /g,"-").toLowerCase()+"-chromeext-webview.zip"),$(".chrome-border").fadeOut(),$("html, body").animate({scrollTop:$(".chosenbit").offset().top},"slow"),$(".preloader").remove(),!1}alertify.error("Unable to export: Description is blank!")}),!1},n.readAsArrayBuffer(e)};$(document).ready(function(){function e(e,n){var t=$("<ul>");try{var i=$("<h4>",{text:e});a.append(i);var o=new Date,s=new JSZip(n),r=new Date;i.append($("<span>",{text:" (parsed in "+(r-o)+"ms)"})),$(".check").removeClass("hide"),$.each(s.files,function(e,n){t.append($('<li class="hide">',{text:n.name}))})}catch(l){t=$("<div>",{"class":"alert alert-danger",text:"Error reading "+theFile.name+" : "+l.message})}a.append(t)}$(window).on("load resize",function(){window.innerWidth>window.innerHeight?document.querySelector(".walkthrough-dialog").style="":window.innerWidth<window.innerHeight&&(document.querySelector(".walkthrough-dialog").style.margin="2em")});var n=localStorage.getItem("closedWelcome");if("true"===n?$("#close-walkthrough").prop("checked",!0):$("#close-walkthrough").prop("checked",""),$("#close-walkthrough").click(function(){localStorage.setItem("closedWelcome",$(this).prop("checked"));
}),window.File&&window.FileReader&&window.FileList&&window.Blob||alertify.alert("The File APIs are not fully supported in this browser.").set("basic",!0),!window.FileReader||!window.ArrayBuffer)return void $(".error_block").removeClass("hide");holder.ondragover=function(){return this.className="hover",!1},holder.ondragend=function(){return this.className="",!1},holder.ondrop=function(e){loader.addClass("hide"),this.className="",e.preventDefault();var n=e.dataTransfer.files[0];displayPreview(n),$("[data-action=displayfooter]").removeClass("hide"),$(".convertsite-picked").is(":visible")?($(".logoisloadedsite, .logoisloadedapp, .loadavatar").addClass("hide"),$(".logo, .check, .outputname").removeClass("hide"),$("html, body").animate({scrollTop:$(".pickbits").offset().top},"slow"),executeApp(n)):($(".loadavatar").addClass("hide"),$(".loadzip, .logo, .outputname, .logoisloadedapp").removeClass("hide"),$("html, body").animate({scrollTop:$(".logoisloadedapp").offset().top},"slow"))},loader.on("change",function(e){var n=e.target.files[0];displayPreview(n),$("[data-action=displayfooter]").removeClass("hide"),$(".convertsite-picked").is(":visible")?($(".logoisloadedsite, .logoisloadedapp, .loadavatar").addClass("hide"),$(".logo, .check, .outputname").removeClass("hide"),$("html, body").animate({scrollTop:$(".pickbits").offset().top},"slow"),executeApp(n)):($(".loadavatar").addClass("hide"),$(".loadzip, .logo, .outputname, .logoisloadedapp").removeClass("hide"),$("html, body").animate({scrollTop:$(".logoisloadedapp").offset().top},"slow"))});var a=$(".result");return loadFiles.on("change",function(n){if(document.getElementById("file").value&&document.querySelector("[data-id=sitename]").value){$(".check").removeClass("hide"),a.empty(),$(".result_block").removeClass("hide");for(var t,i=n.target.files,o=0;t=i[o];o++){var s=new FileReader;s.onload=function(n){return function(a){var t=a.target.result;e(n.name,t),$(".export-as-win-app").on("click",function(){JSZipUtils.getBinaryContent("assets/YourWinApp.zip",function(e,a){if(e)throw e;var i=new JSZip;i.load(a),i.folder("app/").load(t);var o=c16[0].toDataURL("image/png"),s=c32[0].toDataURL("image/png"),r=c64[0].toDataURL("image/png"),l=canvas[0].toDataURL("image/png");i.file("app/icons/16.png",o.split("base64,")[1],{base64:!0}),i.file("app/icons/32.png",s.split("base64,")[1],{base64:!0}),i.file("app/icons/64.png",r.split("base64,")[1],{base64:!0}),i.file("app/icons/128.png",l.split("base64,")[1],{base64:!0}),i.file("app/icons/logo.png",$(".imgorigholder > img").attr("src").split("base64,")[1],{base64:!0}),i.file("package.json",'{\n  "main"  : "index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n      "toolbar" : false,\n      "icon"    : "app/icons/128.png",\n      "width"   : 1000,\n      "height"  : 600,\n      "position": "center"\n  }\n}'),i.file("index.html","<!doctype html>\n<html>\n <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <style>\n      iframe {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: visible;\n        border: 0;\n      }\n    </style>\n  </head>\n <body>\n    <iframe src="app/index.html"></iframe>\n  </body>\n</html>');var p=i.generate({type:"blob"});return saveAs(p,n.name.substr(n.name.length-n.name.length,n.name.length-4)+"-win.zip"),$(".preloader").remove(),!1})}),$(".export-as-win32-app").on("click",function(){JSZipUtils.getBinaryContent("assets/YourWin32App.zip",function(e,a){if(e)throw e;var i=new JSZip;i.load(a),i.folder("app/").load(t);var o=c16[0].toDataURL("image/png"),s=c32[0].toDataURL("image/png"),r=c64[0].toDataURL("image/png"),l=canvas[0].toDataURL("image/png");i.file("app/icons/16.png",o.split("base64,")[1],{base64:!0}),i.file("app/icons/32.png",s.split("base64,")[1],{base64:!0}),i.file("app/icons/64.png",r.split("base64,")[1],{base64:!0}),i.file("app/icons/128.png",l.split("base64,")[1],{base64:!0}),i.file("app/icons/logo.png",$(".imgorigholder > img").attr("src").split("base64,")[1],{base64:!0}),i.file("package.json",'{\n  "main"  : "index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n      "toolbar" : false,\n      "icon"    : "app/icons/128.png",\n      "width"   : 1000,\n      "height"  : 600,\n      "position": "center"\n  }\n}'),i.file("index.html","<!doctype html>\n<html>\n <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <style>\n      iframe {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: visible;\n        border: 0;\n      }\n    </style>\n  </head>\n <body>\n    <iframe src="app/index.html"></iframe>\n  </body>\n</html>');var p=i.generate({type:"blob"});return saveAs(p,n.name.substr(n.name.length-n.name.length,n.name.length-4)+"-win32.zip"),$(".preloader").remove(),!1})}),$(".export-as-lin-app").on("click",function(){JSZipUtils.getBinaryContent("assets/YourLinApp.zip",function(e,a){if(e)throw e;var i=new JSZip,o=i.folder($("[data-id=sitename]").val().replace(/ /g,"-"));o.load(a),o.folder("app/").load(t);var s=c16[0].toDataURL("image/png"),r=c32[0].toDataURL("image/png"),l=c64[0].toDataURL("image/png"),p=canvas[0].toDataURL("image/png");o.file("app/icons/16.png",s.split("base64,")[1],{base64:!0}),o.file("app/icons/32.png",r.split("base64,")[1],{base64:!0}),o.file("app/icons/64.png",l.split("base64,")[1],{base64:!0}),o.file("app/icons/128.png",p.split("base64,")[1],{base64:!0}),o.file("app/icons/logo.png",$(".imgorigholder > img").attr("src").split("base64,")[1],{base64:!0}),o.file("package.json",'{\n  "main"  : "app/index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n      "toolbar" : false,\n      "icon"    : "app/icons/128.png",\n      "width"   : 1000,\n      "height"  : 600,\n      "position": "center"\n  }\n}'),i.file("make.sh","if [ -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/nw\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 nw\nfi\n\nif [ ! -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  mv "+$("[data-id=sitename]").val().replace(/ /g,"-")+" ${HOME}\n\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/nw\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 nw\nfi\n\n# For Windows OS\n#if EXIST ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" (\n  #echo Yes\n#) ELSE (\n  #echo No\n#)\n"),i.file("README.md","### Instructions\n 1. Extract the `"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite.zip` folder anywhere on your computer except the home folder. \n 2. Open a terminal and then navigate to "+$("[data-id=sitename]").val().replace(/ /g,"-")+"'s directory and `run the make.sh file`.\n\n  **example**:\n  cd Downloads/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite\n\n 3. This will move the "+$("[data-id=sitename]").val().replace(/ /g,"-")+" sibling folder and it's descendants to your home directory and create an application launcher.\n");var d=i.generate({type:"blob"});return saveAs(d,n.name.substr(n.name.length-n.name.length,n.name.length-4)+"-lin.zip"),$(".preloader").remove(),!1})}),$(".export-as-lin32-app").on("click",function(){JSZipUtils.getBinaryContent("assets/YourLin32App.zip",function(e,a){if(e)throw e;var i=new JSZip,o=i.folder($("[data-id=sitename]").val().replace(/ /g,"-"));o.load(a),o.folder("app/").load(t);var s=c16[0].toDataURL("image/png"),r=c32[0].toDataURL("image/png"),l=c64[0].toDataURL("image/png"),p=canvas[0].toDataURL("image/png");o.file("app/icons/16.png",s.split("base64,")[1],{base64:!0}),o.file("app/icons/32.png",r.split("base64,")[1],{base64:!0}),o.file("app/icons/64.png",l.split("base64,")[1],{base64:!0}),o.file("app/icons/128.png",p.split("base64,")[1],{base64:!0}),o.file("app/icons/logo.png",$(".imgorigholder > img").attr("src").split("base64,")[1],{base64:!0}),o.file("package.json",'{\n  "main"  : "app/index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n      "toolbar" : false,\n      "icon"    : "app/icons/128.png",\n      "width"   : 1000,\n      "height"  : 600,\n      "position": "center"\n  }\n}'),i.file("make.sh","if [ -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/nw\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 nw\nfi\n\nif [ ! -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  mv "+$("[data-id=sitename]").val().replace(/ /g,"-")+" ${HOME}\n\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/nw\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 nw\nfi\n\n# For Windows OS\n#if EXIST ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" (\n  #echo Yes\n#) ELSE (\n  #echo No\n#)\n"),i.file("README.md","### Instructions\n 1. Extract the `"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site.zip` folder anywhere on your computer except the home folder. \n 2. Open a terminal and then navigate to "+$("[data-id=sitename]").val().replace(/ /g,"-")+"'s directory and `run the make.sh file`.\n\n  **example**:\n  cd Downloads/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site\n\n 3. This will move the "+$("[data-id=sitename]").val().replace(/ /g,"-")+" sibling folder and it's descendants to your home directory and create an application launcher.\n");var d=i.generate({type:"blob"});return saveAs(d,n.name.substr(n.name.length-n.name.length,n.name.length-4)+"-lin32.zip"),$(".preloader").remove(),!1})}),$(".export-as-mac-app").on("click",function(){JSZipUtils.getBinaryContent("assets/YourMacApp.zip",function(e,a){if(e)throw e;var i=new JSZip;i.load(a),i.folder("data/content/app").load(t);var o=c16[0].toDataURL("image/png"),s=c32[0].toDataURL("image/png"),r=c64[0].toDataURL("image/png"),l=canvas[0].toDataURL("image/png");i.file("data/content/app/icons/16.png",o.split("base64,")[1],{base64:!0}),i.file("data/content/app/icons/32.png",s.split("base64,")[1],{base64:!0}),i.file("data/content/app/icons/64.png",r.split("base64,")[1],{base64:!0}),i.file("data/content/app/icons/128.png",l.split("base64,")[1],{base64:!0}),i.file("data/content/app/icons/logo.png",$(".imgorigholder > img").attr("src").split("base64,")[1],{base64:!0}),i.file("data/package.json",'{\n  "main"  : "content/index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n    "toolbar"    : false\n  }\n}'),i.file("data/content/index.html","<!doctype html>\n<html>\n <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <style>\n      iframe {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: visible;\n        border: 0;\n      }\n    </style>\n  </head>\n <body>\n    <iframe src="app/index.html"></iframe>\n\n    <script src="js/main.js"></script>\n  </body>\n</html>'),i.file("data/content/js/main.js",'document.addEventListener("DOMContentLoaded", function() {\n  // Load library\n  var gui = require("nw.gui");\n\n  // Reference to window\n  var win = gui.Window.get();\n\n  // Create menu container\n  var Menu = new gui.Menu({\n    type: "menubar"\n  });\n\n  //initialize default mac menu\n  Menu.createMacBuiltin("'+$("[data-id=sitename]").val()+'");\n\n  // Get the root menu from the default mac menu\n  var rootMenu = Menu.items[0].submenu;\n  var windowMenu = Menu.items[2].submenu;\n\n  // Append new item to root menu\n  windowMenu.insert(\n    new gui.MenuItem({\n      type: "normal",\n      label: "Toggle Fullscreen",\n      key: "F",\n      modifiers: "cmd",\n      click : function () {\n        win.toggleFullscreen();\n      }\n    })\n  );\n\n  windowMenu.insert(\n    new gui.MenuItem({\n      type: "normal",\n      label: "Reload App",\n      key: "r",\n      modifiers: "cmd",\n      click : function () {\n        win.reload();\n      }\n    })\n  );\n\n  // Remove About Node-Webkit\n  rootMenu.removeAt(0);\n\n  // Append Menu to Window\n  gui.Window.get().menu = Menu;\n});'),i.file("run.sh","open -a /Applications/"+$("[data-id=sitename]").val().replace(/ /g,"")+".app/Contents/data/"+$("[data-id=sitename]").val().replace(/ /g,"")+".app");var p=i.generate({type:"blob"});return saveAs(p,n.name.substr(n.name.length-n.name.length,n.name.length-4)+"-mac.zip"),$(".preloader").remove(),!1})}),$(".chromeapp").on("click",function(){$(".chromeappcheck").removeClass("hide"),$(".chromeappexport").removeClass("hide"),$(".chromepopexport").addClass("hide"),$(".chrome-border").fadeIn(),$("html, body").animate({scrollTop:$(".chrome-border").offset().top},"slow")}),$(".chromepopup").on("click",function(){$(".chromeappcheck").addClass("hide"),$(".chromeappexport").addClass("hide"),$(".chromepopexport").removeClass("hide"),$(".chrome-border").fadeIn(),$("html, body").animate({scrollTop:$(".chrome-border").offset().top},"slow")}),$("input.chromeappexport").on("click",function(){if(document.querySelector("[data-value=description]").value){$(".preloader").removeClass("hide");var e=new JSZip;e.folder("html").folder("app").load(t);var a=c16[0].toDataURL("image/png"),i=c32[0].toDataURL("image/png"),o=c64[0].toDataURL("image/png"),s=canvas[0].toDataURL("image/png");e.file("img/16.png",a.split("base64,")[1],{base64:!0}),e.file("img/32.png",i.split("base64,")[1],{base64:!0}),e.file("img/64.png",o.split("base64,")[1],{base64:!0}),e.file("img/128.png",s.split("base64,")[1],{base64:!0}),e.file("img/logo.png",$(".imgorigholder > img").attr("src").split("base64,")[1],{base64:!0}),audioCapture=document.getElementById("audiocapture").checked?', "audioCapture"':"",videoCapture=document.getElementById("videocapture").checked?', "videoCapture"':"",storagePerm=document.getElementById("storage").checked?', "storage", "fileSystem", "unlimitedStorage"':"",setOffline=$(".offline-mode").is(":checked")?'"offline_enabled": true':'"offline_enabled": false',listPermissions=audioCapture+videoCapture+storagePerm,e.file("css/reset.css","/* http://meyerweb.com/eric/tools/css/reset/ \n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n	margin: 0;\n	padding: 0;\n	border: 0;\n	font-size: 100%;\n	font: inherit;\n	vertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n	display: block;\n}\nbody {\n	line-height: 1;\n}\nol, ul {\n	list-style: none;\n}\nblockquote, q {\n	quotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n	content: '';\n	content: none;\n}\ntable {\n	border-collapse: collapse;\n	border-spacing: 0;\n}"),e.file("css/style.css","webview, iframe {\n    width: 100vw;\n    height: 100vh;\n    border: 0;\n}"),e.file("html/embed.html",'<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset="UTF-8">\n    <title>'+$("[data-id=sitename]").val()+'</title>\n    <link rel="stylesheet" href="../css/reset.css">\n    <link rel="stylesheet" href="../css/style.css">\n  </head>\n  <body>\n    <iframe src="app/index.html">\n  </body>\n</html>'),e.file("js/background.js","/**\n * Listens for the app launching then creates the window\n *\n * @see http://developer.chrome.com/apps/app.runtime.html\n * @see http://developer.chrome.com/apps/app.window.html\n */\nchrome.app.runtime.onLaunched.addListener(function () {\n    runApp();\n});\n\n/**\n * Listens for the app restarting then re-creates the window.\n *\n * @see http://developer.chrome.com/apps/app.runtime.html\n */\nchrome.app.runtime.onRestarted.addListener(function () {\n    runApp();\n});\n\n/**\n * Creates the window for the application.\n *\n * @see http://developer.chrome.com/apps/app.window.html\n */\nfunction runApp() {\n    // Creat a new Chrome app window\n    chrome.app.window.create('html/embed.html', {\"id\":\"embed\",\"frame\":{\"type\":\"chrome\"},\"innerBounds\":{\"width\":1180,\"height\":900}}, onWindowLoaded());\n}\n\n/**\n * Called before the contentWindow's onload event\n *\n * @see http://developer.chrome.com/apps/app.window.html\n */\nfunction onWindowLoaded(popup) {\n    return function (win) {\n        // On window loaded event\n        win.contentWindow.onload = function () {\n            // Get webview \n            var webview = win.contentWindow.document.getElementById('webview');\n\n            // Sign up for 'permissionrequest' event\n            webview.addEventListener('permissionrequest', function (e) {\n                // Allow all permission requests\n                e.request.allow();\n            });\n\n            // Sign up for 'newwindow' event\n            // Emitted when a target='_blank' link is clicked within the webview\n            webview.addEventListener('newwindow', function (e) {\n                // Popup?\n                if (e.initialWidth > 0 && e.initialHeight > 0) {\n                    // Open it in a popup window with a set width and height\n                    return chrome.app.window.create('html/embed.html', { frame: { type: 'chrome' }, innerBounds: { width: e.initialWidth, height: e.initialHeight } }, onWindowLoaded(e));\n                }\n\n                // Open the link in a new browser tab/window\n                win.contentWindow.open(e.targetUrl);\n            });\n\n            // Is this a popup window?\n            if (popup) {\n                // Override webview source with popup's target URL\n                webview.src = popup.targetUrl;\n            }\n        };\n    };\n}\n"),e.file("manifest.json",'{\n   "app": {\n      "background": {\n         "pages": [ "html/embed.html" ],\n         "scripts": [ "js/background.js" ]\n      }\n   },\n   "description": "'+$("[data-value=description]").val()+'",\n   "icons": {\n      "128": "img/128.png",\n      "16" : "img/16.png",\n      "32" : "img/32.png",\n      "64" : "img/64.png"\n   },\n   "manifest_version": 2,\n   "name": "'+$("[data-id=sitename]").val()+'",\n   '+setOffline+',\n   "permissions": [ "http://*/", "https://*/"'+listPermissions+' ],\n   "version": "'+$("[data-value=version]").val()+'"\n}\n');var r=e.generate({type:"blob"});saveAs(r,n.name.substr(n.name.length-n.name.length,n.name.length-4)+"-chromeapp.zip"),$(".chrome-border").fadeOut(),$("html, body").animate({scrollTop:$(".chosenbit").offset().top},"slow"),$(".preloader").remove()}else alertify.error("Unable to export: Description is blank!");return!1}),$(".chromepopexport").on("click",function(){if(document.querySelector("[data-value=description]").value){$(".preloader").removeClass("hide");var e=new JSZip;e.folder("app").load(t);var a=c16[0].toDataURL("image/png"),i=c32[0].toDataURL("image/png"),o=c64[0].toDataURL("image/png"),s=canvas[0].toDataURL("image/png");e.file("assets/16.png",a.split("base64,")[1],{base64:!0}),e.file("assets/32.png",i.split("base64,")[1],{base64:!0}),e.file("assets/64.png",o.split("base64,")[1],{base64:!0}),e.file("assets/128.png",s.split("base64,")[1],{base64:!0}),e.file("assets/logo.png",$(".imgorigholder > img").attr("src").split("base64,")[1],{base64:!0}),e.file("background.js","/**\n * Listens for the app launching, then creates the window.\n *\n * @see http://developer.chrome.com/apps/app.runtime.html\n * @see http://developer.chrome.com/apps/app.window.html\n */\nchrome.app.runtime.onLaunched.addListener(function(launchData) {\n  chrome.app.window.create(\n    'index.html',\n    {\n      id: 'mainWindow',\n      innerBounds: {\n        'width': 800,\n        'height': 600\n      }\n    }\n  );\n});"),e.file("css/style.css","html, body {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n}\n\nbody {\n  min-width: 300px;\n  min-height: 420px;\n}\n\nwebview, iframe {\n  width: 100%;\n  height: 100%;\n  border: 0;\n}"),e.file("index.html","<!DOCTYPE html>\n<html>\n  <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <link rel="stylesheet" href="css/style.css" />\n  </head>\n  <body>\n    <iframe src="app/index.html">\n      Your Chromebook does not support the iFrame html element.\n    </iframe>\n  </body>\n</html>'),e.file("manifest.json",'{\n  "manifest_version": 2,\n  "name": "'+$("[data-id=sitename]").val()+'",\n  "short_name": "'+$("[data-id=sitename]").val()+'",\n  "description": "'+$("[data-value=description]").val()+'",\n  "version": "'+$("[data-value=version]").val()+'",\n  "minimum_chrome_version": "38",\n  "permissions": [ "storage", "unlimitedStorage", "http://*/", "https://*/" ],\n  "icons": {\n    "16": "assets/16.png",\n    "32": "assets/32.png",\n    "64": "assets/64.png",\n    "128": "assets/128.png"\n  },\n\n  "browser_action": {\n    "default_icon": "assets/128.png",\n    "default_title": "'+$("[data-id=sitename]").val()+'",\n    "default_popup": "index.html"\n  },\n  \n  "content_security_policy": "script-src \'self\' \'unsafe-eval\'; object-src \'self\'"\n}');var r=e.generate({type:"blob"});return saveAs(r,n.name.substr(n.name.length-n.name.length,n.name.length-4)+"-chrome-ext.zip"),$(".chrome-border").fadeOut(),$("html, body").animate({scrollTop:$(".chosenbit").offset().top},"slow"),$(".preloader").remove(),!1}alertify.error("Unable to export: Description is blank!")}),$(".export-pgbapp").on("click",function(){$(".pickchromes").is(":visible")&&$(".pickchromes").addClass("hide"),$(".phonegap-dialog").fadeIn(),setTimeout(function(){$("html, body").animate({scrollTop:$(".phonegap-dialog").offset().top},"slow")},300)}),$(".pgbappexport").on("click",function(){if($("[data-pgb=version]").val()&&$("[data-pgb=versionCode]").val()&&$("[data-pgb=description]").val()&&$("[data-pgb=author]").val()&&$("[data-pgb=authoremail]").val()&&$("[data-pgb=authorlink]").val()){$(".preloader").removeClass("hide");var e=new JSZip;e.folder("www").load(t);var n=c96[0].toDataURL("image/png"),a=c72[0].toDataURL("image/png"),i=c48[0].toDataURL("image/png"),o=c36[0].toDataURL("image/png"),s=c144[0].toDataURL("image/png"),r=c57[0].toDataURL("image/png"),l=c114[0].toDataURL("image/png"),p=c173[0].toDataURL("image/png"),d=c62[0].toDataURL("image/png");e.file("logo.png",$(".imgorigholder > img").attr("src").split("base64,")[1],{base64:!0}),e.file("res/icon/android/icon-96-xhdpi.png",n.split("base64,")[1],{base64:!0}),e.file("res/icon/android/icon-72-hdpi.png",a.split("base64,")[1],{base64:!0}),e.file("res/icon/android/icon-48-mdpi.png",i.split("base64,")[1],{base64:!0}),e.file("res/icon/android/icon-36-ldpi.png",o.split("base64,")[1],{base64:!0}),e.file("res/icon/ios/icon-72.png",a.split("base64,")[1],{base64:!0}),e.file("res/icon/ios/icon-72-2x.png",s.split("base64,")[1],{base64:!0}),e.file("res/icon/ios/icon-57.png",r.split("base64,")[1],{base64:!0}),e.file("res/icon/ios/icon-57-2x.png",l.split("base64,")[1],{base64:!0}),e.file("res/icon/windows-phone/icon-173-tile.png",p.split("base64,")[1],{base64:!0}),e.file("res/icon/windows-phone/icon-62-tile.png",d.split("base64,")[1],{base64:!0}),e.file("res/icon/windows-phone/icon-48.png",i.split("base64,")[1],{base64:!0});var c=document.getElementById("tel"),m=document.getElementById("sms"),g=document.getElementById("mailto"),h=document.getElementById("geo"),u=document.getElementById("marketlinks"),f=document.getElementById("filestorage");telIntent=c.checked?'\n  <allow-intent href="tel:*"/>':"",smsIntent=m.checked?'\n  <allow-intent href="sms:*"/>':"",mailtoIntent=g.checked?'\n  <allow-intent href="mailto:*"/>':"",geoIntent=h.checked?'\n  <allow-intent href="geo:*"/>':"",marketIntent=u.checked?'\n  <platform name="android">\n    <allow-intent href="market:*"/>\n  </platform>\n  <platform name="ios">\n    <allow-intent href="itms:*"/>\n    <allow-intent href="itms-apps:*"/>\n  </platform>':"",listIntentions=telIntent+smsIntent+mailtoIntent+geoIntent+marketIntent,filestorageIntent=f.checked?'\n\n  <gap:plugin name="org.apache.cordova.file"/>\n  <gap:plugin name="org.apache.cordova.file-transfer"/>\n  <preference name="AndroidPersistentFileLocation" value="Compatibility" />':"",e.file("config.xml",'<?xml version="1.0" encoding="utf-8"?>\n<widget xmlns = "http://www.w3.org/ns/widgets"\n  xmlns:gap   = "http://phonegap.com/ns/1.0"\n  id          = "com.webdgap.'+document.querySelector("[data-id=sitename]").value.replace(/ /g,"").toLowerCase()+'"\n  version     = "'+$("[data-pgb=version]").val()+'"\n  versionCode = "'+$("[data-pgb=versionCode]").val()+'">\n  <name>'+$("[data-id=sitename]").val()+"</name>\n  <description>\n    "+$("[data-pgb=description]").val()+'\n  </description>\n  <author email="'+$("[data-pgb=authoremail]").val()+'" href="'+$("[data-pgb=authorlink]").val()+'">\n    '+$("[data-pgb=author]").val()+'\n  </author>\n\n  <content src="index.html" />\n\n  <icon src="icon.png" gap:role="default" />\n  <icon gap:platform="android" gap:qualifier="ldpi" src="res/icon/android/icon-36-ldpi.png" />\n  <icon gap:platform="android" gap:qualifier="mdpi" src="res/icon/android/icon-48-mdpi.png" />\n  <icon gap:platform="android" gap:qualifier="hdpi" src="res/icon/android/icon-72-hdpi.png" />\n  <icon gap:platform="android" gap:qualifier="xhdpi" src="res/icon/android/icon-96-xhdpi.png" />\n  <icon gap:platform="android" src="res/icon/android/icon-96-xhdpi.png" />\n  <icon gap:platform="blackberry" src="res/icon/blackberry/icon-80.png" />\n  <icon gap:platform="blackberry" gap:state="hover" src="res/icon/blackberry/icon-80.png" />\n  <icon gap:platform="ios" height="57" src="res/icon/ios/icon-57.png" width="57" />\n  <icon gap:platform="ios" height="72" src="res/icon/ios/icon-72.png" width="72" />\n  <icon gap:platform="ios" height="114" src="res/icon/ios/icon-57-2x.png" width="114" />\n  <icon gap:platform="ios" height="144" src="res/icon/ios/icon-72-2x.png" width="144" />\n  <icon gap:platform="webos" src="res/icon/webos/icon-64.png" />\n  <icon gap:platform="winphone" src="res/icon/windows-phone/icon-48.png" />\n  <icon gap:platform="winphone" gap:role="background" src="res/icon/windows-phone/icon-173-tile.png" />\n\n  <preference name="permissions" value="none"/>\n  <preference name="orientation" value="default"/>\n  <preference name="target-device" value="universal"/>\n  <preference name="webviewbounce" value="false"/>\n  <preference name="prerendered-icon" value="true"/>\n  <preference name="stay-in-webview" value="false"/>\n  <preference name="ios-statusbarstyle" value="black-opaque"/>\n\n  <gap:plugin name="org.apache.cordova.inappbrowser"/>\n  <gap:plugin name="org.apache.cordova.network-information"/>\n\n  <access origin="*"/>\n  <plugin name="cordova-plugin-whitelist" version="1"/>\n\n  <preference name="phonegap-version" value="cli-6.3.0" />\n  <preference name="android-minSdkVersion" value="7" />\n  <preference name="android-targetSdkVersion" value="19" />'+filestorageIntent+'\n\n  <allow-intent href="http://*/*"/>\n  <allow-intent href="https://*/*"/>\n  <allow-intent href="tel:*"/>\n  <allow-intent href="sms:*"/>\n  <allow-intent href="mailto:*"/>\n  <allow-intent href="geo:*"/>'+listIntentions+"\n</widget>"),e.file("README.md",'# Thank you for using WebDGap!\n\nIntro to your PhoneGap Build Export\n-------------\n\n### File Structure\n\n**NOTICE:** This export is just a template. Structure it however you like for PhoneGap Build!\n\n - www\n  - (your application source code)\n - res/icon\n   - (your logo is located here for windows phone, ios, and android)\n - logo.png\n - config.xml\n\n**DON\'T FORGET** to add `<script src="cordova.js"></script>` or `<script src="phonegap.js"></script>` into your `index.html` file  (which should be located in the `www` directory)\n\nDonate To The Project!\n-------------\n\nIf WebDGap was at all helpful for you. [Would you consider donating to the project?](https://www.paypal.com/us/cgi-bin/webscr?cmd=_flow&SESSION=JryIEtO_GiYnqlvRfV6BGnO6bAxR3JtIQif2j1z1eFYuoLkYf_XZOY6QbWe&dispatch=5885d80a13c0db1f8e263663d3faee8dcce3e160f5b9538489e17951d2c62172)');var v=e.generate({type:"blob"});saveAs(v,document.querySelector("[data-id=sitename]").value.replace(/ /g,"").toLowerCase()+"-pgb.zip"),$(".phonegap-dialog").fadeOut(),$("html, body").animate({scrollTop:$(".chosenbit").offset().top},"slow"),$(".preloader").remove()}else alertify.error("Unable to export: All fields must have a value!");
return!1})}}(t),s.readAsArrayBuffer(t),$(".check").removeClass("hide").addClass("hide"),setTimeout(function(){$("html, body").animate({scrollTop:$(".pickbits").offset().top},"slow")},300)}}else;}),$(".loadzipurl").on("click",function(){document.getElementById("zipurl").value?"http://"===document.getElementById("zipurl").value.toLowerCase().substring(0,7)||"https://"===document.getElementById("zipurl").value.toLowerCase().substring(0,8)&&".zip"===document.getElementById("zipurl").value.toLowerCase().substring(document.getElementById("zipurl").value.length-4)?($(".check").removeClass("hide"),a.empty(),$(".result_block").removeClass("hide"),JSZipUtils.getBinaryContent(document.getElementById("zipurl").value,function(e,n){if(e)throw e;var a=n;$(".export-as-win-app").on("click",function(){JSZipUtils.getBinaryContent("assets/YourWinApp.zip",function(e,n){if(e)throw e;var t=new JSZip;t.load(n),t.folder("app/").load(a);var i=c16[0].toDataURL("image/png"),o=c32[0].toDataURL("image/png"),s=c64[0].toDataURL("image/png"),r=canvas[0].toDataURL("image/png");t.file("app/icons/16.png",i.split("base64,")[1],{base64:!0}),t.file("app/icons/32.png",o.split("base64,")[1],{base64:!0}),t.file("app/icons/64.png",s.split("base64,")[1],{base64:!0}),t.file("app/icons/128.png",r.split("base64,")[1],{base64:!0}),t.file("app/icons/logo.png",$(".imgorigholder > img").attr("src").split("base64,")[1],{base64:!0}),t.file("package.json",'{\n  "main"  : "index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n      "toolbar" : false,\n      "icon"    : "app/icons/128.png",\n      "width"   : 1000,\n      "height"  : 600,\n      "position": "center"\n  }\n}'),t.file("index.html","<!doctype html>\n<html>\n <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <style>\n      iframe {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: visible;\n        border: 0;\n      }\n    </style>\n  </head>\n <body>\n    <iframe src="app/index.html"></iframe>\n  </body>\n</html>');var l=t.generate({type:"blob"});return saveAs(l,document.querySelector("[data-id=sitename]").value.replace(/ /g,"").toLowerCase()+"-win.zip"),$(".preloader").remove(),!1})}),$(".export-as-win32-app").on("click",function(){JSZipUtils.getBinaryContent("assets/YourWin32App.zip",function(e,n){if(e)throw e;var t=new JSZip;t.load(n),t.folder("app/").load(a);var i=c16[0].toDataURL("image/png"),o=c32[0].toDataURL("image/png"),s=c64[0].toDataURL("image/png"),r=canvas[0].toDataURL("image/png");t.file("app/icons/16.png",i.split("base64,")[1],{base64:!0}),t.file("app/icons/32.png",o.split("base64,")[1],{base64:!0}),t.file("app/icons/64.png",s.split("base64,")[1],{base64:!0}),t.file("app/icons/128.png",r.split("base64,")[1],{base64:!0}),t.file("app/icons/logo.png",$(".imgorigholder > img").attr("src").split("base64,")[1],{base64:!0}),t.file("package.json",'{\n  "main"  : "index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n      "toolbar" : false,\n      "icon"    : "app/icons/128.png",\n      "width"   : 1000,\n      "height"  : 600,\n      "position": "center"\n  }\n}'),t.file("index.html","<!doctype html>\n<html>\n <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <style>\n      iframe {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: visible;\n        border: 0;\n      }\n    </style>\n  </head>\n <body>\n    <iframe src="app/index.html"></iframe>\n  </body>\n</html>');var l=t.generate({type:"blob"});return saveAs(l,document.querySelector("[data-id=sitename]").value.replace(/ /g,"").toLowerCase()+"-win32.zip"),$(".preloader").remove(),!1})}),$(".export-as-lin-app").on("click",function(){JSZipUtils.getBinaryContent("assets/YourLinApp.zip",function(e,n){if(e)throw e;var t=new JSZip,i=t.folder($("[data-id=sitename]").val().replace(/ /g,"-"));i.load(n),i.folder("app/").load(a);var o=c16[0].toDataURL("image/png"),s=c32[0].toDataURL("image/png"),r=c64[0].toDataURL("image/png"),l=canvas[0].toDataURL("image/png");i.file("app/icons/16.png",o.split("base64,")[1],{base64:!0}),i.file("app/icons/32.png",s.split("base64,")[1],{base64:!0}),i.file("app/icons/64.png",r.split("base64,")[1],{base64:!0}),i.file("app/icons/128.png",l.split("base64,")[1],{base64:!0}),i.file("app/icons/logo.png",$(".imgorigholder > img").attr("src").split("base64,")[1],{base64:!0}),i.file("package.json",'{\n  "main"  : "app/index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n      "toolbar" : false,\n      "icon"    : "app/icons/128.png",\n      "width"   : 1000,\n      "height"  : 600,\n      "position": "center"\n  }\n}'),t.file("make.sh","if [ -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/nw\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 nw\nfi\n\nif [ ! -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  mv "+$("[data-id=sitename]").val().replace(/ /g,"-")+" ${HOME}\n\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/nw\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 nw\nfi\n\n# For Windows OS\n#if EXIST ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" (\n  #echo Yes\n#) ELSE (\n  #echo No\n#)\n"),t.file("README.md","### Instructions\n 1. Extract the `"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite.zip` folder anywhere on your computer except the home folder. \n 2. Open a terminal and then navigate to "+$("[data-id=sitename]").val().replace(/ /g,"-")+"'s directory and `run the make.sh file`.\n\n  **example**:\n  cd Downloads/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite\n\n 3. This will move the "+$("[data-id=sitename]").val().replace(/ /g,"-")+" sibling folder and it's descendants to your home directory and create an application launcher.\n");var p=t.generate({type:"blob"});return saveAs(p,document.querySelector("[data-id=sitename]").value.replace(/ /g,"").toLowerCase()+"-lin.zip"),$(".preloader").remove(),!1})}),$(".export-as-lin32-app").on("click",function(){JSZipUtils.getBinaryContent("assets/YourLin32App.zip",function(e,n){if(e)throw e;var t=new JSZip,i=t.folder($("[data-id=sitename]").val().replace(/ /g,"-"));i.load(n),i.folder("app/").load(a);var o=c16[0].toDataURL("image/png"),s=c32[0].toDataURL("image/png"),r=c64[0].toDataURL("image/png"),l=canvas[0].toDataURL("image/png");i.file("app/icons/16.png",o.split("base64,")[1],{base64:!0}),i.file("app/icons/32.png",s.split("base64,")[1],{base64:!0}),i.file("app/icons/64.png",r.split("base64,")[1],{base64:!0}),i.file("app/icons/128.png",l.split("base64,")[1],{base64:!0}),i.file("app/icons/logo.png",$(".imgorigholder > img").attr("src").split("base64,")[1],{base64:!0}),i.file("package.json",'{\n  "main"  : "app/index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n      "toolbar" : false,\n      "icon"    : "app/icons/128.png",\n      "width"   : 1000,\n      "height"  : 600,\n      "position": "center"\n  }\n}'),t.file("make.sh","if [ -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/nw\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 nw\nfi\n\nif [ ! -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  mv "+$("[data-id=sitename]").val().replace(/ /g,"-")+" ${HOME}\n\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/nw\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 nw\nfi\n\n# For Windows OS\n#if EXIST ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" (\n  #echo Yes\n#) ELSE (\n  #echo No\n#)\n"),t.file("README.md","### Instructions\n 1. Extract the `"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site.zip` folder anywhere on your computer except the home folder. \n 2. Open a terminal and then navigate to "+$("[data-id=sitename]").val().replace(/ /g,"-")+"'s directory and `run the make.sh file`.\n\n  **example**:\n  cd Downloads/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site\n\n 3. This will move the "+$("[data-id=sitename]").val().replace(/ /g,"-")+" sibling folder and it's descendants to your home directory and create an application launcher.\n");var p=t.generate({type:"blob"});return saveAs(p,document.querySelector("[data-id=sitename]").value.replace(/ /g,"").toLowerCase()+"-lin32.zip"),$(".preloader").remove(),!1})}),$(".export-as-mac-app").on("click",function(){JSZipUtils.getBinaryContent("assets/YourMacApp.zip",function(e,n){if(e)throw e;var t=new JSZip;t.load(n),t.folder("data/content/app").load(a);var i=c16[0].toDataURL("image/png"),o=c32[0].toDataURL("image/png"),s=c64[0].toDataURL("image/png"),r=canvas[0].toDataURL("image/png");t.file("data/content/app/icons/16.png",i.split("base64,")[1],{base64:!0}),t.file("data/content/app/icons/32.png",o.split("base64,")[1],{base64:!0}),t.file("data/content/app/icons/64.png",s.split("base64,")[1],{base64:!0}),t.file("data/content/app/icons/128.png",r.split("base64,")[1],{base64:!0}),t.file("data/content/app/icons/logo.png",$(".imgorigholder > img").attr("src").split("base64,")[1],{base64:!0}),t.file("data/package.json",'{\n  "main"  : "content/index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n    "toolbar"    : false\n  }\n}'),t.file("data/content/index.html","<!doctype html>\n<html>\n <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <style>\n      iframe {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: visible;\n        border: 0;\n      }\n    </style>\n  </head>\n <body>\n    <iframe src="app/index.html"></iframe>\n\n    <script src="js/main.js"></script>\n  </body>\n</html>'),t.file("data/content/js/main.js",'document.addEventListener("DOMContentLoaded", function() {\n  // Load library\n  var gui = require("nw.gui");\n\n  // Reference to window\n  var win = gui.Window.get();\n\n  // Create menu container\n  var Menu = new gui.Menu({\n    type: "menubar"\n  });\n\n  //initialize default mac menu\n  Menu.createMacBuiltin("'+$("[data-id=sitename]").val()+'");\n\n  // Get the root menu from the default mac menu\n  var rootMenu = Menu.items[0].submenu;\n  var windowMenu = Menu.items[2].submenu;\n\n  // Append new item to root menu\n  windowMenu.insert(\n    new gui.MenuItem({\n      type: "normal",\n      label: "Toggle Fullscreen",\n      key: "F",\n      modifiers: "cmd",\n      click : function () {\n        win.toggleFullscreen();\n      }\n    })\n  );\n\n  windowMenu.insert(\n    new gui.MenuItem({\n      type: "normal",\n      label: "Reload App",\n      key: "r",\n      modifiers: "cmd",\n      click : function () {\n        win.reload();\n      }\n    })\n  );\n\n  // Remove About Node-Webkit\n  rootMenu.removeAt(0);\n\n  // Append Menu to Window\n  gui.Window.get().menu = Menu;\n});'),t.file("run.sh","open -a /Applications/"+$("[data-id=sitename]").val().replace(/ /g,"")+".app/Contents/data/"+$("[data-id=sitename]").val().replace(/ /g,"")+".app");var l=t.generate({type:"blob"});return saveAs(l,document.querySelector("[data-id=sitename]").value.replace(/ /g,"").toLowerCase()+"-mac.zip"),$(".preloader").remove(),!1})}),$(".chromeapp").on("click",function(){$(".chromeappcheck").removeClass("hide"),$(".chromeappexport").removeClass("hide"),$(".chromepopexport").addClass("hide"),$(".chrome-border").fadeIn(),$("html, body").animate({scrollTop:$(".chrome-border").offset().top},"slow")}),$(".chromepopup").on("click",function(){$(".chromeappcheck").addClass("hide"),$(".chromeappexport").addClass("hide"),$(".chromepopexport").removeClass("hide"),$(".chrome-border").fadeIn(),$("html, body").animate({scrollTop:$(".chrome-border").offset().top},"slow")}),$("input.chromeappexport").on("click",function(){if(document.querySelector("[data-value=description]").value){$(".preloader").removeClass("hide");var e=new JSZip;e.folder("html").folder("app").load(a);var n=c16[0].toDataURL("image/png"),t=c32[0].toDataURL("image/png"),i=c64[0].toDataURL("image/png"),o=canvas[0].toDataURL("image/png");e.file("img/16.png",n.split("base64,")[1],{base64:!0}),e.file("img/32.png",t.split("base64,")[1],{base64:!0}),e.file("img/64.png",i.split("base64,")[1],{base64:!0}),e.file("img/128.png",o.split("base64,")[1],{base64:!0}),e.file("img/logo.png",$(".imgorigholder > img").attr("src").split("base64,")[1],{base64:!0}),audioCapture=document.getElementById("audiocapture").checked?', "audioCapture"':"",videoCapture=document.getElementById("videocapture").checked?', "videoCapture"':"",storagePerm=document.getElementById("storage").checked?', "storage", "fileSystem", "unlimitedStorage"':"",setOffline=$(".offline-mode").is(":checked")?'"offline_enabled": true':'"offline_enabled": false',listPermissions=audioCapture+videoCapture+storagePerm,e.file("css/reset.css","/* http://meyerweb.com/eric/tools/css/reset/ \n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n	margin: 0;\n	padding: 0;\n	border: 0;\n	font-size: 100%;\n	font: inherit;\n	vertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n	display: block;\n}\nbody {\n	line-height: 1;\n}\nol, ul {\n	list-style: none;\n}\nblockquote, q {\n	quotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n	content: '';\n	content: none;\n}\ntable {\n	border-collapse: collapse;\n	border-spacing: 0;\n}"),e.file("css/style.css","webview, iframe {\n    width: 100vw;\n    height: 100vh;\n    border: 0;\n}"),e.file("html/embed.html",'<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset="UTF-8">\n    <title>'+$("[data-id=sitename]").val()+'</title>\n    <link rel="stylesheet" href="../css/reset.css">\n    <link rel="stylesheet" href="../css/style.css">\n  </head>\n  <body>\n    <iframe src="app/index.html">\n  </body>\n</html>'),e.file("js/background.js","/**\n * Listens for the app launching then creates the window\n *\n * @see http://developer.chrome.com/apps/app.runtime.html\n * @see http://developer.chrome.com/apps/app.window.html\n */\nchrome.app.runtime.onLaunched.addListener(function () {\n    runApp();\n});\n\n/**\n * Listens for the app restarting then re-creates the window.\n *\n * @see http://developer.chrome.com/apps/app.runtime.html\n */\nchrome.app.runtime.onRestarted.addListener(function () {\n    runApp();\n});\n\n/**\n * Creates the window for the application.\n *\n * @see http://developer.chrome.com/apps/app.window.html\n */\nfunction runApp() {\n    // Creat a new Chrome app window\n    chrome.app.window.create('html/embed.html', {\"id\":\"embed\",\"frame\":{\"type\":\"chrome\"},\"innerBounds\":{\"width\":1180,\"height\":900}}, onWindowLoaded());\n}\n\n/**\n * Called before the contentWindow's onload event\n *\n * @see http://developer.chrome.com/apps/app.window.html\n */\nfunction onWindowLoaded(popup) {\n    return function (win) {\n        // On window loaded event\n        win.contentWindow.onload = function () {\n            // Get webview \n            var webview = win.contentWindow.document.getElementById('webview');\n\n            // Sign up for 'permissionrequest' event\n            webview.addEventListener('permissionrequest', function (e) {\n                // Allow all permission requests\n                e.request.allow();\n            });\n\n            // Sign up for 'newwindow' event\n            // Emitted when a target='_blank' link is clicked within the webview\n            webview.addEventListener('newwindow', function (e) {\n                // Popup?\n                if (e.initialWidth > 0 && e.initialHeight > 0) {\n                    // Open it in a popup window with a set width and height\n                    return chrome.app.window.create('html/embed.html', { frame: { type: 'chrome' }, innerBounds: { width: e.initialWidth, height: e.initialHeight } }, onWindowLoaded(e));\n                }\n\n                // Open the link in a new browser tab/window\n                win.contentWindow.open(e.targetUrl);\n            });\n\n            // Is this a popup window?\n            if (popup) {\n                // Override webview source with popup's target URL\n                webview.src = popup.targetUrl;\n            }\n        };\n    };\n}\n"),e.file("manifest.json",'{\n   "app": {\n      "background": {\n         "pages": [ "html/embed.html" ],\n         "scripts": [ "js/background.js" ]\n      }\n   },\n   "description": "'+$("[data-value=description]").val()+'",\n   "icons": {\n      "128": "img/128.png",\n      "16" : "img/16.png",\n      "32" : "img/32.png",\n      "64" : "img/64.png"\n   },\n   "manifest_version": 2,\n   "name": "'+$("[data-id=sitename]").val()+'",\n   '+setOffline+',\n   "permissions": [ "http://*/", "https://*/"'+listPermissions+' ],\n   "version": "'+$("[data-value=version]").val()+'"\n}\n');var s=e.generate({type:"blob"});saveAs(s,document.querySelector("[data-id=sitename]").value.replace(/ /g,"").toLowerCase()+"-chromeapp.zip"),$(".chrome-border").fadeOut(),$("html, body").animate({scrollTop:$(".chosenbit").offset().top},"slow"),$(".preloader").remove()}else alertify.error("Unable to export: Description is blank!");return!1}),$(".chromepopexport").on("click",function(){if(document.querySelector("[data-value=description]").value){$(".preloader").removeClass("hide");var e=new JSZip;e.folder("app").load(a);var n=c16[0].toDataURL("image/png"),t=c32[0].toDataURL("image/png"),i=c64[0].toDataURL("image/png"),o=canvas[0].toDataURL("image/png");e.file("assets/16.png",n.split("base64,")[1],{base64:!0}),e.file("assets/32.png",t.split("base64,")[1],{base64:!0}),e.file("assets/64.png",i.split("base64,")[1],{base64:!0}),e.file("assets/128.png",o.split("base64,")[1],{base64:!0}),e.file("assets/logo.png",$(".imgorigholder > img").attr("src").split("base64,")[1],{base64:!0}),e.file("background.js","/**\n * Listens for the app launching, then creates the window.\n *\n * @see http://developer.chrome.com/apps/app.runtime.html\n * @see http://developer.chrome.com/apps/app.window.html\n */\nchrome.app.runtime.onLaunched.addListener(function(launchData) {\n  chrome.app.window.create(\n    'index.html',\n    {\n      id: 'mainWindow',\n      innerBounds: {\n        'width': 800,\n        'height': 600\n      }\n    }\n  );\n});"),e.file("css/style.css","html, body {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n}\n\nbody {\n  min-width: 300px;\n  min-height: 420px;\n}\n\nwebview, iframe {\n  width: 100%;\n  height: 100%;\n  border: 0;\n}"),e.file("index.html","<!DOCTYPE html>\n<html>\n  <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <link rel="stylesheet" href="css/style.css" />\n  </head>\n  <body>\n    <iframe src="app/index.html">\n      Your Chromebook does not support the iFrame html element.\n    </iframe>\n  </body>\n</html>'),e.file("manifest.json",'{\n  "manifest_version": 2,\n  "name": "'+$("[data-id=sitename]").val()+'",\n  "short_name": "'+$("[data-id=sitename]").val()+'",\n  "description": "'+$("[data-value=description]").val()+'",\n  "version": "'+$("[data-value=version]").val()+'",\n  "minimum_chrome_version": "38",\n  "permissions": [ "storage", "unlimitedStorage", "http://*/", "https://*/" ],\n  "icons": {\n    "16": "assets/16.png",\n    "32": "assets/32.png",\n    "64": "assets/64.png",\n    "128": "assets/128.png"\n  },\n\n  "browser_action": {\n    "default_icon": "assets/128.png",\n    "default_title": "'+$("[data-id=sitename]").val()+'",\n    "default_popup": "index.html"\n  },\n  \n  "content_security_policy": "script-src \'self\' \'unsafe-eval\'; object-src \'self\'"\n}');var s=e.generate({type:"blob"});saveAs(s,document.querySelector("[data-id=sitename]").value.replace(/ /g,"").toLowerCase()+"-chrome-ext.zip"),$(".chrome-border").fadeOut(),$("html, body").animate({scrollTop:$(".chosenbit").offset().top},"slow"),$(".preloader").remove()}else alertify.error("Unable to export: Description is blank!")}),$(".export-pgbapp").on("click",function(){$(".pickchromes").is(":visible")&&$(".pickchromes").addClass("hide"),$(".phonegap-dialog").fadeIn(),setTimeout(function(){$("html, body").animate({scrollTop:$(".phonegap-dialog").offset().top},"slow")},300)}),$(".pgbappexport").on("click",function(){if($("[data-pgb=version]").val()&&$("[data-pgb=versionCode]").val()&&$("[data-pgb=description]").val()&&$("[data-pgb=author]").val()&&$("[data-pgb=authoremail]").val()&&$("[data-pgb=authorlink]").val()){$(".preloader").removeClass("hide");var e=new JSZip;e.folder("www").load(a);var n=c96[0].toDataURL("image/png"),t=c72[0].toDataURL("image/png"),i=c48[0].toDataURL("image/png"),o=c36[0].toDataURL("image/png"),s=c144[0].toDataURL("image/png"),r=c57[0].toDataURL("image/png"),l=c114[0].toDataURL("image/png"),p=c173[0].toDataURL("image/png"),d=c62[0].toDataURL("image/png");e.file("logo.png",$(".imgorigholder > img").attr("src").split("base64,")[1],{base64:!0}),e.file("res/icon/android/icon-96-xhdpi.png",n.split("base64,")[1],{base64:!0}),e.file("res/icon/android/icon-72-hdpi.png",t.split("base64,")[1],{base64:!0}),e.file("res/icon/android/icon-48-mdpi.png",i.split("base64,")[1],{base64:!0}),e.file("res/icon/android/icon-36-ldpi.png",o.split("base64,")[1],{base64:!0}),e.file("res/icon/ios/icon-72.png",t.split("base64,")[1],{base64:!0}),e.file("res/icon/ios/icon-72-2x.png",s.split("base64,")[1],{base64:!0}),e.file("res/icon/ios/icon-57.png",r.split("base64,")[1],{base64:!0}),e.file("res/icon/ios/icon-57-2x.png",l.split("base64,")[1],{base64:!0}),e.file("res/icon/windows-phone/icon-173-tile.png",p.split("base64,")[1],{base64:!0}),e.file("res/icon/windows-phone/icon-62-tile.png",d.split("base64,")[1],{base64:!0}),e.file("res/icon/windows-phone/icon-48.png",i.split("base64,")[1],{base64:!0});var c=document.getElementById("tel"),m=document.getElementById("sms"),g=document.getElementById("mailto"),h=document.getElementById("geo"),u=document.getElementById("marketlinks"),f=document.getElementById("filestorage");telIntent=c.checked?'\n  <allow-intent href="tel:*"/>':"",smsIntent=m.checked?'\n  <allow-intent href="sms:*"/>':"",mailtoIntent=g.checked?'\n  <allow-intent href="mailto:*"/>':"",geoIntent=h.checked?'\n  <allow-intent href="geo:*"/>':"",marketIntent=u.checked?'\n  <platform name="android">\n    <allow-intent href="market:*"/>\n  </platform>\n  <platform name="ios">\n    <allow-intent href="itms:*"/>\n    <allow-intent href="itms-apps:*"/>\n  </platform>':"",listIntentions=telIntent+smsIntent+mailtoIntent+geoIntent+marketIntent,filestorageIntent=f.checked?'\n\n  <gap:plugin name="org.apache.cordova.file"/>\n  <gap:plugin name="org.apache.cordova.file-transfer"/>\n  <preference name="AndroidPersistentFileLocation" value="Compatibility" />':"",e.file("config.xml",'<?xml version="1.0" encoding="utf-8"?>\n<widget xmlns = "http://www.w3.org/ns/widgets"\n  xmlns:gap   = "http://phonegap.com/ns/1.0"\n  id          = "com.webdgap.'+document.querySelector("[data-id=sitename]").value.replace(/ /g,"").toLowerCase()+'"\n  version     = "'+$("[data-pgb=version]").val()+'"\n  versionCode = "'+$("[data-pgb=versionCode]").val()+'">\n  <name>'+$("[data-id=sitename]").val()+"</name>\n  <description>\n    "+$("[data-pgb=description]").val()+'\n  </description>\n  <author email="'+$("[data-pgb=authoremail]").val()+'" href="'+$("[data-pgb=authorlink]").val()+'">\n    '+$("[data-pgb=author]").val()+'\n  </author>\n\n  <content src="index.html" />\n\n  <icon src="icon.png" gap:role="default" />\n  <icon gap:platform="android" gap:qualifier="ldpi" src="res/icon/android/icon-36-ldpi.png" />\n  <icon gap:platform="android" gap:qualifier="mdpi" src="res/icon/android/icon-48-mdpi.png" />\n  <icon gap:platform="android" gap:qualifier="hdpi" src="res/icon/android/icon-72-hdpi.png" />\n  <icon gap:platform="android" gap:qualifier="xhdpi" src="res/icon/android/icon-96-xhdpi.png" />\n  <icon gap:platform="android" src="res/icon/android/icon-96-xhdpi.png" />\n  <icon gap:platform="blackberry" src="res/icon/blackberry/icon-80.png" />\n  <icon gap:platform="blackberry" gap:state="hover" src="res/icon/blackberry/icon-80.png" />\n  <icon gap:platform="ios" height="57" src="res/icon/ios/icon-57.png" width="57" />\n  <icon gap:platform="ios" height="72" src="res/icon/ios/icon-72.png" width="72" />\n  <icon gap:platform="ios" height="114" src="res/icon/ios/icon-57-2x.png" width="114" />\n  <icon gap:platform="ios" height="144" src="res/icon/ios/icon-72-2x.png" width="144" />\n  <icon gap:platform="webos" src="res/icon/webos/icon-64.png" />\n  <icon gap:platform="winphone" src="res/icon/windows-phone/icon-48.png" />\n  <icon gap:platform="winphone" gap:role="background" src="res/icon/windows-phone/icon-173-tile.png" />\n\n  <preference name="permissions" value="none"/>\n  <preference name="orientation" value="default"/>\n  <preference name="target-device" value="universal"/>\n  <preference name="webviewbounce" value="false"/>\n  <preference name="prerendered-icon" value="true"/>\n  <preference name="stay-in-webview" value="false"/>\n  <preference name="ios-statusbarstyle" value="black-opaque"/>\n\n  <gap:plugin name="org.apache.cordova.inappbrowser"/>\n  <gap:plugin name="org.apache.cordova.network-information"/>\n\n  <access origin="*"/>\n  <plugin name="cordova-plugin-whitelist" version="1"/>\n\n  <preference name="phonegap-version" value="cli-6.3.0" />\n  <preference name="android-minSdkVersion" value="7" />\n  <preference name="android-targetSdkVersion" value="19" />'+filestorageIntent+'\n\n  <allow-intent href="http://*/*"/>\n  <allow-intent href="https://*/*"/>\n  <allow-intent href="tel:*"/>\n  <allow-intent href="sms:*"/>\n  <allow-intent href="mailto:*"/>\n  <allow-intent href="geo:*"/>'+listIntentions+"\n</widget>"),e.file("README.md",'# Thank you for using WebDGap!\n\nIntro to your PhoneGap Build Export\n-------------\n\n### File Structure\n\n**NOTICE:** This export is just a template. Structure it however you like for PhoneGap Build!\n\n - www\n  - (your application source code)\n - res/icon\n   - (your logo is located here for windows phone, ios, and android)\n - logo.png\n - config.xml\n\n**DON\'T FORGET** to add `<script src="cordova.js"></script>` or `<script src="phonegap.js"></script>` into your `index.html` file  (which should be located in the `www` directory)\n\nDonate To The Project!\n-------------\n\nIf WebDGap was at all helpful for you. [Would you consider donating to the project?](https://www.paypal.com/us/cgi-bin/webscr?cmd=_flow&SESSION=JryIEtO_GiYnqlvRfV6BGnO6bAxR3JtIQif2j1z1eFYuoLkYf_XZOY6QbWe&dispatch=5885d80a13c0db1f8e263663d3faee8dcce3e160f5b9538489e17951d2c62172)');var v=e.generate({type:"blob"});saveAs(v,document.querySelector("[data-id=sitename]").value.replace(/ /g,"").toLowerCase()+"-pgb.zip"),$(".phonegap-dialog").fadeOut(),$("html, body").animate({scrollTop:$(".chosenbit").offset().top},"slow"),$(".preloader").remove()}else alertify.error("Unable to export: All fields must have a value!");return!1})}),setTimeout(function(){$("html, body").animate({scrollTop:$(".pickbits").offset().top},"slow")},300)):alertify.error('Error! "http://" and "https://" urls are only supported!'):alertify.error("Unable to perform operation as value is blank!")}),!1});