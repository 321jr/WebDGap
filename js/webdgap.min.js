function displayPreview(e){var n=new FileReader;n.onload=function(e){var n=new Image,a=new Image,t=new Image,i=new Image;n.src=e.target.result,a.src=e.target.result,t.src=e.target.result,i.src=e.target.result,a.onload=function(){ctx16.drawImage(a,0,0,16,16)},t.onload=function(){ctx32.drawImage(t,0,0,32,32)},i.onload=function(){ctx64.drawImage(i,0,0,64,64)},n.onload=function(){ctx.drawImage(n,0,0,128,128)}},$(".img--avatar").addClass("hide"),$("[data-id=sitename]").attr("disabled","true"),n.readAsDataURL(e)}$(function(){$("html, body").animate({scrollTop:0},"slow"),$(".dialog").hide(),$(".export64").on("click",function(){$(".64bit").removeClass("hide"),$(".32bit").addClass("hide"),$("html, body").animate({scrollTop:$(".chosenbit").offset().top},"slow")}),$(".export32").on("click",function(){$(".64bit").addClass("hide"),$(".32bit").removeClass("hide"),$("html, body").animate({scrollTop:$(".chosenbit").offset().top},"slow")}),$(".export-as-win32-app, .export-as-win-app, .export-as-mac-app, .export-as-lin32-app, .export-as-lin-app").click(function(){$(".preloader").removeClass("hide")}),$("[data-id=convertapp], [data-id=convertsite]").on("click",function(){"convertapp"===$(this).attr("data-id").toLowerCase()?($(".maindesc").html("Convert any web application to a native Windows/Linux/Mac/Chrome application."),$("[data-id=appspace]").removeClass("hide")):"convertsite"===$(this).attr("data-id").toLowerCase()&&($(".maindesc").html("Convert any website to a native Windows/Linux/Mac/Chrome application."),$("[data-id=webspace]").removeClass("hide"),$(".outputname").addClass("convertsite-picked"),$("[data-id=sitename]").addClass("convertsite-chosen"),$(".logoisloadedapp").addClass("hide")),$("body").removeClass("noscroll"),$(".wholedialog").fadeOut()}),$("[data-action=website]").on("keyup",function(e){"https://"===this.value.toLowerCase().substring(0,8)&&($(".export-as-chrome-app").addClass("hide"),alertify.message('https is not recommend.<br /><br /> If needed use <a href="https://bitly.com/shorten/">Bitly</a> to set url to http.')),""===this.value.toLowerCase()?$(".checkimageloader, [data-action=applyvalues]").addClass("hide"):"http://"===this.value.toLowerCase().substring(0,7)||"https://"===this.value.toLowerCase().substring(0,8)?($("[data-action=applyvalues]").removeClass("hide"),$("html, body").animate({scrollTop:$(this).offset().top},"slow"),13==e.which&&$("[data-action=applyvalues]").click()):$("[data-action=applyvalues]").addClass("hide")}),$("[data-id=sitename]").on("keyup",function(){$(this).hasClass("convertsite-chosen")?""===this.value?$("[data-action=website]").addClass("hide"):$("[data-action=website]").removeClass("hide"):""===this.value?$(".checkimageloader").addClass("hide"):$(".checkimageloader").removeClass("hide"),$(".outputname").text(this.value)}),$("[data-action=applyvalues]").click(function(){$(".checkimageloader, .outputname").removeClass("hide"),$(".logoisloadedsite").addClass("hide"),$(".outputname").text($("[data-id=sitename]").val())}),$("[data-action=reload]").click(function(){location.reload(!0)})});var audioCapture,videoCapture,storagePerm,setOffline,listPermissions,loader=$(".load"),c16=$(".n16"),c32=$(".n32"),c64=$(".n64"),canvas=$(".holder"),holder=document.getElementById("imageloader"),loadFiles=$("#file, .load"),ctx16=c16[0].getContext("2d"),ctx32=c32[0].getContext("2d"),ctx64=c64[0].getContext("2d"),ctx=canvas[0].getContext("2d"),executeApp=function(e){$(".chromeappcheck").addClass("hide");var n=new FileReader;n.onload=function(e){return $(".export-as-win-app").on("click",function(){return JSZipUtils.getBinaryContent("assets/YourWinApp.zip",function(e,n){if(e)throw e;var a=new JSZip(n),t=c16[0].toDataURL("image/png"),i=c32[0].toDataURL("image/png"),o=c64[0].toDataURL("image/png"),s=canvas[0].toDataURL("image/png");a.file("resources/default_app/icons/16.png",t.split("base64,")[1],{base64:!0}),a.file("resources/default_app/icons/32.png",i.split("base64,")[1],{base64:!0}),a.file("resources/default_app/icons/64.png",o.split("base64,")[1],{base64:!0}),a.file("resources/default_app/icons/128.png",s.split("base64,")[1],{base64:!0}),a.file("resources/default_app/css/style.css","html, body {\n  height: 100%;\n  padding: 0;\n  margin: 0;\n  overflow: hidden;\n}\n\niframe {\n  width: 100%;\n  height: 100%;\n  border: 0;\n}"),a.file("resources/default_app/index.html","<!DOCTYPE html>\n<html>\n  <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <meta charset="utf-8">\n    <meta name="viewport" content="initial-scale=1.0">\n    <meta http-equiv="X-UA-Compatible" content="IE=9" />\n    <link type="text/css" rel="stylesheet" href="css/style.css" />\n  </head>\n  <body>\n    <iframe src="'+$("[data-action=website]").val()+'">\n      Your browser does not support the iFrame html elements.\n    </iframe>\n  </body>\n</html>'),a.file("resources/default_app/package.json",'{\n  "name": "'+$("[data-id=sitename]").val()+'",\n  "productName": "'+$("[data-id=sitename]").val()+'",\n  "version": "1.0.0",\n  "main": "default_app.js",\n  "license": "MIT"\n}\n');var l=a.generate({type:"blob"});return saveAs(l,$("[data-id=sitename]").val().toLowerCase().split(" ").join("-")+"-winsite.zip"),$(".preloader").addClass("hide"),!1}),!1}),$(".export-as-win32-app").on("click",function(){JSZipUtils.getBinaryContent("assets/YourWin32App.zip",function(e,n){if(e)throw e;var a=new JSZip(n),t=c16[0].toDataURL("image/png"),i=c32[0].toDataURL("image/png"),o=c64[0].toDataURL("image/png"),s=canvas[0].toDataURL("image/png");a.file("app/icons/16.png",t.split("base64,")[1],{base64:!0}),a.file("app/icons/32.png",i.split("base64,")[1],{base64:!0}),a.file("app/icons/64.png",o.split("base64,")[1],{base64:!0}),a.file("app/icons/128.png",s.split("base64,")[1],{base64:!0}),a.file("package.json",'{\n  "main"  : "app/index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n      "toolbar" : false,\n      "icon"    : "app/icons/128.png",\n      "width"   : 1000,\n      "height"  : 600,\n      "position": "center"\n  }\n}'),a.file("app/index.html","<!doctype html>\n<html>\n <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <style>\n      iframe {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: visible;\n        border: 0;\n      }\n    </style>\n  </head>\n <body>\n    <iframe src="'+$("[data-action=website]").val()+'">\n      Your browser does not support the iFrame html elements.\n    </iframe>\n  </body>\n</html>');var l=a.generate({type:"blob"});return saveAs(l,$("[data-id=sitename]").val().toLowerCase().split(" ").join("-")+"-win32site.zip"),$(".preloader").addClass("hide"),!1})}),$(".export-as-mac-app").on("click",function(){return JSZipUtils.getBinaryContent("assets/YourMacApp.zip",function(e,n){if(e)throw e;var a=new JSZip(n),t=c16[0].toDataURL("image/png"),i=c32[0].toDataURL("image/png"),o=c64[0].toDataURL("image/png"),s=canvas[0].toDataURL("image/png");a.file("data/content/icons/16.png",t.split("base64,")[1],{base64:!0}),a.file("data/content/icons/32.png",i.split("base64,")[1],{base64:!0}),a.file("data/content/icons/64.png",o.split("base64,")[1],{base64:!0}),a.file("data/content/icons/128.png",s.split("base64,")[1],{base64:!0}),a.file("data/package.json",'{\n  "main"  : "content/index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n    "toolbar"    : false\n  }\n}'),a.file("data/content/index.html","<!doctype html>\n<html>\n <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <style>\n      iframe {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: visible;\n        border: 0;\n      }\n    </style>\n  </head>\n <body>\n    <iframe src="'+$("[data-action=website]").val()+'"></iframe>\n\n    <script src="js/main.js"></script>\n  </body>\n</html>'),a.file("data/content/js/main.js",'document.addEventListener("DOMContentLoaded", function() {\n  // Load library\n  var gui = require("nw.gui");\n\n  // Reference to window\n  var win = gui.Window.get();\n\n  // Create menu container\n  var Menu = new gui.Menu({\n    type: "menubar"\n  });\n\n  //initialize default mac menu\n  Menu.createMacBuiltin("'+$("[data-id=sitename]").val()+'");\n\n  // Get the root menu from the default mac menu\n  var rootMenu = Menu.items[0].submenu;\n  var windowMenu = Menu.items[2].submenu;\n\n  // Append new item to root menu\n  windowMenu.insert(\n    new gui.MenuItem({\n      type: "normal",\n      label: "Toggle Fullscreen",\n      key: "F",\n      modifiers: "cmd",\n      click : function () {\n        win.toggleFullscreen();\n      }\n    })\n  );\n\n  windowMenu.insert(\n    new gui.MenuItem({\n      type: "normal",\n      label: "Reload App",\n      key: "r",\n      modifiers: "cmd",\n      click : function () {\n        win.reload();\n      }\n    })\n  );\n\n  // Remove About Node-Webkit\n  rootMenu.removeAt(0);\n\n  // Append Menu to Window\n  gui.Window.get().menu = Menu;\n});'),a.file("run.sh","open -a /Applications/"+$("[data-id=sitename]").val()+".app/Contents/data/"+$("[data-id=sitename]").val().split(" ").join("")+".app");var l=a.generate({type:"blob"});return saveAs(l,$("[data-id=sitename]").val().toLowerCase().split(" ").join("-")+"-macsite.zip"),$(".preloader").addClass("hide"),!1}),!1}),$(".export-as-lin-app").on("click",function(){return JSZipUtils.getBinaryContent("assets/YourLinApp.zip",function(e,n){if(e)throw e;var a=new JSZip,t=a.folder($("[data-id=sitename]").val().replace(/ /g,"-"));t.load(n);var i=c16[0].toDataURL("image/png"),o=c32[0].toDataURL("image/png"),s=c64[0].toDataURL("image/png"),l=canvas[0].toDataURL("image/png");t.file("resources/default_app/icons/16.png",i.split("base64,")[1],{base64:!0}),t.file("resources/default_app/icons/32.png",o.split("base64,")[1],{base64:!0}),t.file("resources/default_app/icons/64.png",s.split("base64,")[1],{base64:!0}),t.file("resources/default_app/icons/128.png",l.split("base64,")[1],{base64:!0}),t.file("resources/default_app/index.html","<!DOCTYPE html>\n<html>\n  <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <style>\n      html, body {\n        height: 100%;\n      }\n      body {\n        margin: 0;\n        padding: 0;\n        overflow: hidden;\n      }\n      iframe {\n        width: 100%;\n        height: 100%;\n        border: 0;\n      }\n    </style>\n  </head>\n  <body>\n    <iframe src="'+$("[data-action=website]").val()+'"></iframe>\n  </body>\n</html>'),t.file("resources/default_app/package.json",'{\n  "name": "'+$("[data-id=sitename]").val()+'",\n  "productName": "'+$("[data-id=sitename]").val()+'",\n  "version": "1.0.0",\n  "main": "default_app.js",\n  "license": "MIT"\n}\n'),a.file("make.sh","if [ -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/electron\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/resources/default_app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 electron\nfi\n\nif [ ! -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  mv "+$("[data-id=sitename]").val().replace(/ /g,"-")+" ${HOME}\n\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/electron\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/resources/default_app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 electron\nfi\n\n# For Windows OS\n#if EXIST ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" (\n  #echo Yes\n#) ELSE (\n  #echo No\n#)\n"),a.file("README.md","### Instructions\n 1. Extract the `"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite.zip` folder anywhere on your computer except the home folder. \n 2. Open a terminal and then navigate to "+$("[data-id=sitename]").val().replace(/ /g,"-")+"'s directory and `run the make.sh file`.\n\n  **example**:\n  cd Downloads/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite\n\n 3. This will move the "+$("[data-id=sitename]").val().replace(/ /g,"-")+" sibling folder and it's descendants to your home directory and create an application launcher.\n");var d=a.generate({type:"blob"});return saveAs(d,$("[data-id=sitename]").val().toLowerCase().split(" ").join("-")+"-linsite.zip"),$(".preloader").addClass("hide"),!1}),!1}),$(".export-as-lin32-app").on("click",function(){JSZipUtils.getBinaryContent("assets/YourLin32App.zip",function(e,n){if(e)throw e;var a=new JSZip,t=a.folder($("[data-id=sitename]").val().replace(/ /g,"-"));t.load(n);var i=c16[0].toDataURL("image/png"),o=c32[0].toDataURL("image/png"),s=c64[0].toDataURL("image/png"),l=canvas[0].toDataURL("image/png");t.file("app/icons/16.png",i.split("base64,")[1],{base64:!0}),t.file("app/icons/32.png",o.split("base64,")[1],{base64:!0}),t.file("app/icons/64.png",s.split("base64,")[1],{base64:!0}),t.file("app/icons/128.png",l.split("base64,")[1],{base64:!0}),t.file("package.json",'{\n  "main"  : "app/index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n      "toolbar" : false,\n      "icon"    : "app/icons/128.png",\n      "width"   : 1000,\n      "height"  : 600,\n      "position": "center"\n  }\n}'),t.file("app/index.html","<!doctype html>\n<html>\n <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <style>\n      iframe {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: visible;\n        border: 0;\n      }\n    </style>\n  </head>\n <body>\n    <iframe src="app/index.html"></iframe>\n  </body>\n</html>'),a.file("make.sh","if [ -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/nw\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 nw\nfi\n\nif [ ! -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  mv "+$("[data-id=sitename]").val().replace(/ /g,"-")+" ${HOME}\n\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/nw\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 nw\nfi\n\n# For Windows OS\n#if EXIST ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" (\n  #echo Yes\n#) ELSE (\n  #echo No\n#)\n"),a.file("README.md","### Instructions\n 1. Extract the `"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site.zip` folder anywhere on your computer except the home folder. \n 2. Open a terminal and then navigate to "+$("[data-id=sitename]").val().replace(/ /g,"-")+"'s directory and `run the make.sh file`.\n\n  **example**:\n  cd Downloads/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site\n\n 3. This will move the "+$("[data-id=sitename]").val().replace(/ /g,"-")+" sibling folder and it's descendants to your home directory and create an application launcher.\n");var d=a.generate({type:"blob"});return saveAs(d,$("[data-id=sitename]").val().toLowerCase().split(" ").join("-")+"-lin32site.zip"),$(".preloader").addClass("hide"),!1})}),$(".export-for-chrome").on("click",function(){$(".pickchromes").toggleClass("hide"),$("html, body").animate({scrollTop:$(".pickchromes").offset().top},"slow")}),$(".reset").on("click",function(){$(".resetval").val("")}),$(".chromeapp").on("click",function(){$(".chromeappexport").removeClass("hide"),$(".chromepopexport").addClass("hide"),$(".dialog").fadeIn(),$("html, body").animate({scrollTop:$(".dialog").offset().top},"slow")}),$(".chromepopup").on("click",function(){$(".chromeappexport").addClass("hide"),$(".chromepopexport").removeClass("hide"),$(".dialog").fadeIn(),$("html, body").animate({scrollTop:$(".dialog").offset().top},"slow")}),$("input.chromeappexport").on("click",function(){if($("[data-value=description]").val()){$(".preloader").removeClass("hide");var e=new JSZip,n=c16[0].toDataURL("image/png"),a=c32[0].toDataURL("image/png"),t=c64[0].toDataURL("image/png"),i=canvas[0].toDataURL("image/png");e.file("img/16.png",n.split("base64,")[1],{base64:!0}),e.file("img/32.png",a.split("base64,")[1],{base64:!0}),e.file("img/64.png",t.split("base64,")[1],{base64:!0}),e.file("img/128.png",i.split("base64,")[1],{base64:!0}),audioCapture=document.getElementById("audiocapture").checked?', "audioCapture"':"",videoCapture=document.getElementById("videocapture").checked?', "videoCapture"':"",storagePerm=document.getElementById("storage").checked?', "storage", "fileSystem", "unlimitedStorage"':"",listPermissions=audioCapture+videoCapture+storagePerm,e.file("css/reset.css","/* http://meyerweb.com/eric/tools/css/reset/ \n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n	margin: 0;\n	padding: 0;\n	border: 0;\n	font-size: 100%;\n	font: inherit;\n	vertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n	display: block;\n}\nbody {\n	line-height: 1;\n}\nol, ul {\n	list-style: none;\n}\nblockquote, q {\n	quotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n	content: '';\n	content: none;\n}\ntable {\n	border-collapse: collapse;\n	border-spacing: 0;\n}"),e.file("css/style.css","webview {\n    width: 100vw;\n    height: 100vh;\n}"),e.file("html/embed.html",'<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset="UTF-8">\n    <title>'+$("[data-id=sitename]").val()+'</title>\n    <link rel="stylesheet" href="../css/reset.css">\n    <link rel="stylesheet" href="../css/style.css">\n  </head>\n  <body>\n    <webview id="webview" src="'+$("[data-action=website]").val()+'" partition="persist:applicationize"></webview>\n  </body>\n</html>'),e.file("js/background.js","/**\n * Listens for the app launching then creates the window\n *\n * @see http://developer.chrome.com/apps/app.runtime.html\n * @see http://developer.chrome.com/apps/app.window.html\n */\nchrome.app.runtime.onLaunched.addListener(function () {\n    runApp();\n});\n\n/**\n * Listens for the app restarting then re-creates the window.\n *\n * @see http://developer.chrome.com/apps/app.runtime.html\n */\nchrome.app.runtime.onRestarted.addListener(function () {\n    runApp();\n});\n\n/**\n * Creates the window for the application.\n *\n * @see http://developer.chrome.com/apps/app.window.html\n */\nfunction runApp() {\n    // Creat a new Chrome app window\n    chrome.app.window.create('html/embed.html', {\"id\":\"embed\",\"frame\":{\"type\":\"chrome\"},\"innerBounds\":{\"width\":1180,\"height\":900}}, onWindowLoaded());\n}\n\n/**\n * Called before the contentWindow's onload event\n *\n * @see http://developer.chrome.com/apps/app.window.html\n */\nfunction onWindowLoaded(popup) {\n    return function (win) {\n        // On window loaded event\n        win.contentWindow.onload = function () {\n            // Get webview \n            var webview = win.contentWindow.document.getElementById('webview');\n\n            // Sign up for 'permissionrequest' event\n            webview.addEventListener('permissionrequest', function (e) {\n                // Allow all permission requests\n                e.request.allow();\n            });\n\n            // Sign up for 'newwindow' event\n            // Emitted when a target='_blank' link is clicked within the webview\n            webview.addEventListener('newwindow', function (e) {\n                // Popup?\n                if (e.initialWidth > 0 && e.initialHeight > 0) {\n                    // Open it in a popup window with a set width and height\n                    return chrome.app.window.create('html/embed.html', { frame: { type: 'chrome' }, innerBounds: { width: e.initialWidth, height: e.initialHeight } }, onWindowLoaded(e));\n                }\n\n                // Open the link in a new browser tab/window\n                win.contentWindow.open(e.targetUrl);\n            });\n\n            // Is this a popup window?\n            if (popup) {\n                // Override webview source with popup's target URL\n                webview.src = popup.targetUrl;\n            }\n        };\n    };\n}\n"),e.file("manifest.json",'{\n   "app": {\n      "background": {\n         "pages": [ "html/embed.html" ],\n         "scripts": [ "js/background.js" ]\n      }\n   },\n   "description": "'+$("[data-value=description]").val()+'",\n   "icons": {\n      "128": "img/128.png",\n      "16" : "img/16.png",\n      "32" : "img/32.png",\n      "64" : "img/64.png"\n   },\n   "manifest_version": 2,\n   "name": "'+$("[data-id=sitename]").val()+'",\n   "permissions": [ "webview"'+listPermissions+', "http://*/", "https://*/" ],\n   "version": "'+$("[data-value=version]").val()+'"\n}\n');var o=e.generate({type:"blob"});saveAs(o,$("[data-id=sitename]").val().toLowerCase().split(" ").join("-")+"-chromewebview.zip"),$(".dialog").fadeOut(),$(".preloader").addClass("hide")}else alertify.error("Unable to export: Description is blank!");return!1}),$(".chromepopexport").on("click",function(){if(""!=$("[data-value=description]").val()){$(".preloader").removeClass("hide");var e=new JSZip,n=c16[0].toDataURL("image/png"),a=c32[0].toDataURL("image/png"),t=c64[0].toDataURL("image/png"),i=canvas[0].toDataURL("image/png");e.file("assets/16.png",n.split("base64,")[1],{base64:!0}),e.file("assets/32.png",a.split("base64,")[1],{base64:!0}),e.file("assets/64.png",t.split("base64,")[1],{base64:!0}),e.file("assets/128.png",i.split("base64,")[1],{base64:!0}),e.file("background.js","/**\n * Listens for the app launching, then creates the window.\n *\n * @see http://developer.chrome.com/apps/app.runtime.html\n * @see http://developer.chrome.com/apps/app.window.html\n */\nchrome.app.runtime.onLaunched.addListener(function(launchData) {\n  chrome.app.window.create(\n    'index.html',\n    {\n      id: 'mainWindow',\n      innerBounds: {\n        'width': 800,\n        'height': 600\n      }\n    }\n  );\n});"),e.file("css/style.css","html, body {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n}\n\nbody {\n  min-width: 300px;\n  min-height: 420px;\n}\n\nwebview, iframe {\n  width: 100%;\n  height: 100%;\n  border: 0;\n}"),e.file("index.html","<!DOCTYPE html>\n<html>\n  <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <link rel="stylesheet" href="css/style.css" />\n  </head>\n  <body>\n    <iframe src="'+$("[data-action=website]").val()+'">\n      Your version of Chrome does not support the iFrame element.\n    </iframe>\n  </body>\n</html>'),e.file("manifest.json",'{\n  "manifest_version": 2,\n  "name": "'+$("[data-id=sitename]").val()+'",\n  "short_name": "'+$("[data-id=sitename]").val()+'",\n  "description": "'+$("[data-value=description]").val()+'",\n  "version": "'+$("[data-value=version]").val()+'",\n  "minimum_chrome_version": "38",\n  "permissions": [ "storage", "unlimitedStorage", "http://*/", "https://*/" ],\n  "icons": {\n    "16": "assets/16.png",\n    "32": "assets/32.png",\n    "64": "assets/64.png",\n    "128": "assets/128.png"\n  },\n\n  "browser_action": {\n    "default_icon": "assets/128.png",\n    "default_title": "'+$("[data-id=sitename]").val()+'",\n    "default_popup": "index.html"\n  },\n  \n  "content_security_policy": "script-src \'self\' \'unsafe-eval\'; object-src \'self\'"\n}');var o=e.generate({type:"blob"});return saveAs(o,$("[data-id=sitename]").val().toLowerCase().split(" ").join("-")+"-chromeext-webview.zip"),$(".dialog").fadeOut(),$(".preloader").addClass("hide"),!1}alertify.error("Unable to export: Description is blank!")}),!1},n.readAsArrayBuffer(e)};$(document).ready(function(){function e(e,n){var t=$("<ul>");try{var i=$("<h4>",{text:e});a.append(i);var o=new Date,s=new JSZip(n),l=new Date;i.append($("<span>",{text:" (parsed in "+(l-o)+"ms)"})),$(".check").removeClass("hide"),$.each(s.files,function(e,n){t.append($('<li class="hide">',{text:n.name}))})}catch(d){t=$("<div>",{"class":"alert alert-danger",text:"Error reading "+theFile.name+" : "+d.message})}a.append(t)}$(window).on("load resize",function(){window.innerWidth>window.innerHeight?document.querySelector(".walkthrough-dialog").style="":window.innerWidth<window.innerHeight&&(document.querySelector(".walkthrough-dialog").style.margin="2em")});var n=localStorage.getItem("closedWelcome");if("true"===n?$("#close-walkthrough").prop("checked",!0):$("#close-walkthrough").prop("checked",""),$("#close-walkthrough").click(function(){localStorage.setItem("closedWelcome",$(this).prop("checked"))}),window.File&&window.FileReader&&window.FileList&&window.Blob||alertify.alert("The File APIs are not fully supported in this browser.").set("basic",!0),!window.FileReader||!window.ArrayBuffer)return void $(".error_block").removeClass("hide");holder.ondragover=function(){return this.className="hover",!1},holder.ondragend=function(){return this.className="",!1},holder.ondrop=function(e){loader.addClass("hide"),this.className="",e.preventDefault();var n=e.dataTransfer.files[0];displayPreview(n),$("[data-action=displayfooter]").removeClass("hide"),$(".convertsite-picked").is(":visible")?($(".logoisloadedsite, .logoisloadedapp, .loadavatar").addClass("hide"),$(".logo, .check, .outputname").removeClass("hide"),$("html, body").animate({scrollTop:$(".pickbits").offset().top},"slow"),executeApp(n)):($(".loadavatar").addClass("hide"),$(".loadzip, .logo, .outputname, .logoisloadedapp").removeClass("hide"),$("html, body").animate({scrollTop:$(".logoisloadedapp").offset().top},"slow"))},loader.on("change",function(e){var n=e.target.files[0];displayPreview(n),$("[data-action=displayfooter]").removeClass("hide"),$(".convertsite-picked").is(":visible")?($(".logoisloadedsite, .logoisloadedapp, .loadavatar").addClass("hide"),$(".logo, .check, .outputname").removeClass("hide"),$("html, body").animate({scrollTop:$(".pickbits").offset().top},"slow"),executeApp(n)):($(".loadavatar").addClass("hide"),$(".loadzip, .logo, .outputname, .logoisloadedapp").removeClass("hide"),$("html, body").animate({scrollTop:$(".logoisloadedapp").offset().top},"slow"))});var a=$(".result");return loadFiles.on("change",function(n){if(""===$("#file").val()||""===$("[data-id=sitename]").val());else{$(".check").removeClass("hide"),a.html(""),$(".result_block").removeClass("hide");for(var t,i=n.target.files,o=0;t=i[o];o++){var s=new FileReader;s.onload=function(n){return function(a){var t=a.target.result;e(n.name,t),$(".export-as-win-app").on("click",function(){JSZipUtils.getBinaryContent("assets/YourWinApp.zip",function(e,a){if(e)throw e;var i=new JSZip;i.load(a),i.folder("app/").load(t);var o=c16[0].toDataURL("image/png"),s=c32[0].toDataURL("image/png"),l=c64[0].toDataURL("image/png"),d=canvas[0].toDataURL("image/png");i.file("app/icons/16.png",o.split("base64,")[1],{base64:!0}),i.file("app/icons/32.png",s.split("base64,")[1],{base64:!0}),i.file("app/icons/64.png",l.split("base64,")[1],{base64:!0}),i.file("app/icons/128.png",d.split("base64,")[1],{base64:!0}),i.file("package.json",'{\n  "main"  : "index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n      "toolbar" : false,\n      "icon"    : "app/icons/128.png",\n      "width"   : 1000,\n      "height"  : 600,\n      "position": "center"\n  }\n}'),i.file("index.html","<!doctype html>\n<html>\n <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <style>\n      iframe {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: visible;\n        border: 0;\n      }\n    </style>\n  </head>\n <body>\n    <iframe src="app/index.html"></iframe>\n  </body>\n</html>');var r=i.generate({type:"blob"});return saveAs(r,n.name.substr(n.name.length-n.name.length,n.name.length-4)+"-win.zip"),$(".preloader").addClass("hide"),!1})}),$(".export-as-win32-app").on("click",function(){JSZipUtils.getBinaryContent("assets/YourWin32App.zip",function(e,a){if(e)throw e;var i=new JSZip;i.load(a),i.folder("app/").load(t);var o=c16[0].toDataURL("image/png"),s=c32[0].toDataURL("image/png"),l=c64[0].toDataURL("image/png"),d=canvas[0].toDataURL("image/png");i.file("app/icons/16.png",o.split("base64,")[1],{base64:!0}),i.file("app/icons/32.png",s.split("base64,")[1],{base64:!0}),i.file("app/icons/64.png",l.split("base64,")[1],{base64:!0}),i.file("app/icons/128.png",d.split("base64,")[1],{base64:!0}),i.file("package.json",'{\n  "main"  : "index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n      "toolbar" : false,\n      "icon"    : "app/icons/128.png",\n      "width"   : 1000,\n      "height"  : 600,\n      "position": "center"\n  }\n}'),
i.file("index.html","<!doctype html>\n<html>\n <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <style>\n      iframe {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: visible;\n        border: 0;\n      }\n    </style>\n  </head>\n <body>\n    <iframe src="app/index.html"></iframe>\n  </body>\n</html>');var r=i.generate({type:"blob"});return saveAs(r,n.name.substr(n.name.length-n.name.length,n.name.length-4)+"-win32.zip"),$(".preloader").addClass("hide"),!1})}),$(".export-as-lin-app").on("click",function(){JSZipUtils.getBinaryContent("assets/YourLinApp.zip",function(e,a){if(e)throw e;var i=new JSZip,o=i.folder($("[data-id=sitename]").val().replace(/ /g,"-"));o.load(a),o.folder("app/").load(t);var s=c16[0].toDataURL("image/png"),l=c32[0].toDataURL("image/png"),d=c64[0].toDataURL("image/png"),r=canvas[0].toDataURL("image/png");o.file("app/icons/16.png",s.split("base64,")[1],{base64:!0}),o.file("app/icons/32.png",l.split("base64,")[1],{base64:!0}),o.file("app/icons/64.png",d.split("base64,")[1],{base64:!0}),o.file("app/icons/128.png",r.split("base64,")[1],{base64:!0}),o.file("package.json",'{\n  "main"  : "app/index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n      "toolbar" : false,\n      "icon"    : "app/icons/128.png",\n      "width"   : 1000,\n      "height"  : 600,\n      "position": "center"\n  }\n}'),i.file("make.sh","if [ -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/nw\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 nw\nfi\n\nif [ ! -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  mv "+$("[data-id=sitename]").val().replace(/ /g,"-")+" ${HOME}\n\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/nw\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 nw\nfi\n\n# For Windows OS\n#if EXIST ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" (\n  #echo Yes\n#) ELSE (\n  #echo No\n#)\n"),i.file("README.md","### Instructions\n 1. Extract the `"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite.zip` folder anywhere on your computer except the home folder. \n 2. Open a terminal and then navigate to "+$("[data-id=sitename]").val().replace(/ /g,"-")+"'s directory and `run the make.sh file`.\n\n  **example**:\n  cd Downloads/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite\n\n 3. This will move the "+$("[data-id=sitename]").val().replace(/ /g,"-")+" sibling folder and it's descendants to your home directory and create an application launcher.\n");var p=i.generate({type:"blob"});return saveAs(p,n.name.substr(n.name.length-n.name.length,n.name.length-4)+"-lin.zip"),$(".preloader").addClass("hide"),!1})}),$(".export-as-lin32-app").on("click",function(){JSZipUtils.getBinaryContent("assets/YourLin32App.zip",function(e,a){if(e)throw e;var i=new JSZip,o=i.folder($("[data-id=sitename]").val().replace(/ /g,"-"));o.load(a),o.folder("app/").load(t);var s=c16[0].toDataURL("image/png"),l=c32[0].toDataURL("image/png"),d=c64[0].toDataURL("image/png"),r=canvas[0].toDataURL("image/png");o.file("app/icons/16.png",s.split("base64,")[1],{base64:!0}),o.file("app/icons/32.png",l.split("base64,")[1],{base64:!0}),o.file("app/icons/64.png",d.split("base64,")[1],{base64:!0}),o.file("app/icons/128.png",r.split("base64,")[1],{base64:!0}),o.file("package.json",'{\n  "main"  : "app/index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n      "toolbar" : false,\n      "icon"    : "app/icons/128.png",\n      "width"   : 1000,\n      "height"  : 600,\n      "position": "center"\n  }\n}'),i.file("make.sh","if [ -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/nw\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 nw\nfi\n\nif [ ! -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  mv "+$("[data-id=sitename]").val().replace(/ /g,"-")+" ${HOME}\n\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/nw\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 nw\nfi\n\n# For Windows OS\n#if EXIST ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" (\n  #echo Yes\n#) ELSE (\n  #echo No\n#)\n"),i.file("README.md","### Instructions\n 1. Extract the `"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site.zip` folder anywhere on your computer except the home folder. \n 2. Open a terminal and then navigate to "+$("[data-id=sitename]").val().replace(/ /g,"-")+"'s directory and `run the make.sh file`.\n\n  **example**:\n  cd Downloads/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site\n\n 3. This will move the "+$("[data-id=sitename]").val().replace(/ /g,"-")+" sibling folder and it's descendants to your home directory and create an application launcher.\n");var p=i.generate({type:"blob"});return saveAs(p,n.name.substr(n.name.length-n.name.length,n.name.length-4)+"-lin32.zip"),$(".preloader").addClass("hide"),!1})}),$(".export-as-mac-app").on("click",function(){JSZipUtils.getBinaryContent("assets/YourMacApp.zip",function(e,a){if(e)throw e;var i=new JSZip;i.load(a),i.folder("data/content/app").load(t);var o=c16[0].toDataURL("image/png"),s=c32[0].toDataURL("image/png"),l=c64[0].toDataURL("image/png"),d=canvas[0].toDataURL("image/png");i.file("data/content/app/icons/16.png",o.split("base64,")[1],{base64:!0}),i.file("data/content/app/icons/32.png",s.split("base64,")[1],{base64:!0}),i.file("data/content/app/icons/64.png",l.split("base64,")[1],{base64:!0}),i.file("data/content/app/icons/128.png",d.split("base64,")[1],{base64:!0}),i.file("data/package.json",'{\n  "main"  : "content/index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n    "toolbar"    : false\n  }\n}'),i.file("data/content/index.html","<!doctype html>\n<html>\n <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <style>\n      iframe {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: visible;\n        border: 0;\n      }\n    </style>\n  </head>\n <body>\n    <iframe src="app/index.html"></iframe>\n\n    <script src="js/main.js"></script>\n  </body>\n</html>'),i.file("data/content/js/main.js",'document.addEventListener("DOMContentLoaded", function() {\n  // Load library\n  var gui = require("nw.gui");\n\n  // Reference to window\n  var win = gui.Window.get();\n\n  // Create menu container\n  var Menu = new gui.Menu({\n    type: "menubar"\n  });\n\n  //initialize default mac menu\n  Menu.createMacBuiltin("'+$("[data-id=sitename]").val()+'");\n\n  // Get the root menu from the default mac menu\n  var rootMenu = Menu.items[0].submenu;\n  var windowMenu = Menu.items[2].submenu;\n\n  // Append new item to root menu\n  windowMenu.insert(\n    new gui.MenuItem({\n      type: "normal",\n      label: "Toggle Fullscreen",\n      key: "F",\n      modifiers: "cmd",\n      click : function () {\n        win.toggleFullscreen();\n      }\n    })\n  );\n\n  windowMenu.insert(\n    new gui.MenuItem({\n      type: "normal",\n      label: "Reload App",\n      key: "r",\n      modifiers: "cmd",\n      click : function () {\n        win.reload();\n      }\n    })\n  );\n\n  // Remove About Node-Webkit\n  rootMenu.removeAt(0);\n\n  // Append Menu to Window\n  gui.Window.get().menu = Menu;\n});'),i.file("run.sh","open -a /Applications/"+$("[data-id=sitename]").val().replace(/ /g,"")+".app/Contents/data/"+$("[data-id=sitename]").val().replace(/ /g,"")+".app");var r=i.generate({type:"blob"});return saveAs(r,n.name.substr(n.name.length-n.name.length,n.name.length-4)+"-mac.zip"),$(".preloader").addClass("hide"),!1})}),$(".export-for-chrome").on("click",function(){$(".pickchromes").toggleClass("hide"),$("html, body").animate({scrollTop:$(".pickchromes").offset().top},"slow")}),$(".reset").on("click",function(){$(".resetval").val("")}),$(".chromeapp").on("click",function(){$(".chromeappcheck").removeClass("hide"),$(".chromeappexport").removeClass("hide"),$(".chromepopexport").addClass("hide"),$(".dialog").fadeIn(),$("html, body").animate({scrollTop:$(".dialog").offset().top},"slow")}),$(".chromepopup").on("click",function(){$(".chromeappcheck").addClass("hide"),$(".chromeappexport").addClass("hide"),$(".chromepopexport").removeClass("hide"),$(".dialog").fadeIn(),$("html, body").animate({scrollTop:$(".dialog").offset().top},"slow")}),$("input.chromeappexport").on("click",function(){if($("[data-value=description]").val()){$(".preloader").removeClass("hide");var e=new JSZip;e.folder("html").folder("app").load(t);var a=c16[0].toDataURL("image/png"),i=c32[0].toDataURL("image/png"),o=c64[0].toDataURL("image/png"),s=canvas[0].toDataURL("image/png");e.file("img/16.png",a.split("base64,")[1],{base64:!0}),e.file("img/32.png",i.split("base64,")[1],{base64:!0}),e.file("img/64.png",o.split("base64,")[1],{base64:!0}),e.file("img/128.png",s.split("base64,")[1],{base64:!0}),audioCapture=document.getElementById("audiocapture").checked?', "audioCapture"':"",videoCapture=document.getElementById("videocapture").checked?', "videoCapture"':"",storagePerm=document.getElementById("storage").checked?', "storage", "fileSystem", "unlimitedStorage"':"",setOffline=$(".offline-mode").is(":checked")?'"offline_enabled": true':'"offline_enabled": false',listPermissions=audioCapture+videoCapture+storagePerm,e.file("css/reset.css","/* http://meyerweb.com/eric/tools/css/reset/ \n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n	margin: 0;\n	padding: 0;\n	border: 0;\n	font-size: 100%;\n	font: inherit;\n	vertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n	display: block;\n}\nbody {\n	line-height: 1;\n}\nol, ul {\n	list-style: none;\n}\nblockquote, q {\n	quotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n	content: '';\n	content: none;\n}\ntable {\n	border-collapse: collapse;\n	border-spacing: 0;\n}"),e.file("css/style.css","webview, iframe {\n    width: 100vw;\n    height: 100vh;\n    border: 0;\n}"),e.file("html/embed.html",'<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset="UTF-8">\n    <title>'+$("[data-id=sitename]").val()+'</title>\n    <link rel="stylesheet" href="../css/reset.css">\n    <link rel="stylesheet" href="../css/style.css">\n  </head>\n  <body>\n    <iframe src="app/index.html">\n  </body>\n</html>'),e.file("js/background.js","/**\n * Listens for the app launching then creates the window\n *\n * @see http://developer.chrome.com/apps/app.runtime.html\n * @see http://developer.chrome.com/apps/app.window.html\n */\nchrome.app.runtime.onLaunched.addListener(function () {\n    runApp();\n});\n\n/**\n * Listens for the app restarting then re-creates the window.\n *\n * @see http://developer.chrome.com/apps/app.runtime.html\n */\nchrome.app.runtime.onRestarted.addListener(function () {\n    runApp();\n});\n\n/**\n * Creates the window for the application.\n *\n * @see http://developer.chrome.com/apps/app.window.html\n */\nfunction runApp() {\n    // Creat a new Chrome app window\n    chrome.app.window.create('html/embed.html', {\"id\":\"embed\",\"frame\":{\"type\":\"chrome\"},\"innerBounds\":{\"width\":1180,\"height\":900}}, onWindowLoaded());\n}\n\n/**\n * Called before the contentWindow's onload event\n *\n * @see http://developer.chrome.com/apps/app.window.html\n */\nfunction onWindowLoaded(popup) {\n    return function (win) {\n        // On window loaded event\n        win.contentWindow.onload = function () {\n            // Get webview \n            var webview = win.contentWindow.document.getElementById('webview');\n\n            // Sign up for 'permissionrequest' event\n            webview.addEventListener('permissionrequest', function (e) {\n                // Allow all permission requests\n                e.request.allow();\n            });\n\n            // Sign up for 'newwindow' event\n            // Emitted when a target='_blank' link is clicked within the webview\n            webview.addEventListener('newwindow', function (e) {\n                // Popup?\n                if (e.initialWidth > 0 && e.initialHeight > 0) {\n                    // Open it in a popup window with a set width and height\n                    return chrome.app.window.create('html/embed.html', { frame: { type: 'chrome' }, innerBounds: { width: e.initialWidth, height: e.initialHeight } }, onWindowLoaded(e));\n                }\n\n                // Open the link in a new browser tab/window\n                win.contentWindow.open(e.targetUrl);\n            });\n\n            // Is this a popup window?\n            if (popup) {\n                // Override webview source with popup's target URL\n                webview.src = popup.targetUrl;\n            }\n        };\n    };\n}\n"),e.file("manifest.json",'{\n   "app": {\n      "background": {\n         "pages": [ "html/embed.html" ],\n         "scripts": [ "js/background.js" ]\n      }\n   },\n   "description": "'+$("[data-value=description]").val()+'",\n   "icons": {\n      "128": "img/128.png",\n      "16" : "img/16.png",\n      "32" : "img/32.png",\n      "64" : "img/64.png"\n   },\n   "manifest_version": 2,\n   "name": "'+$("[data-id=sitename]").val()+'",\n   '+setOffline+',\n   "permissions": [ "http://*/", "https://*/"'+listPermissions+' ],\n   "version": "'+$("[data-value=version]").val()+'"\n}\n');var l=e.generate({type:"blob"});saveAs(l,n.name.substr(n.name.length-n.name.length,n.name.length-4)+"-chromeapp.zip"),$(".dialog").fadeOut(),$(".preloader").addClass("hide")}else alertify.error("Unable to export: Description is blank!");return!1}),$(".chromepopexport").on("click",function(){if(""!=$("[data-value=description]").val()){$(".preloader").removeClass("hide");var e=new JSZip;e.folder("app").load(t);var a=c16[0].toDataURL("image/png"),i=c32[0].toDataURL("image/png"),o=c64[0].toDataURL("image/png"),s=canvas[0].toDataURL("image/png");e.file("assets/16.png",a.split("base64,")[1],{base64:!0}),e.file("assets/32.png",i.split("base64,")[1],{base64:!0}),e.file("assets/64.png",o.split("base64,")[1],{base64:!0}),e.file("assets/128.png",s.split("base64,")[1],{base64:!0}),e.file("background.js","/**\n * Listens for the app launching, then creates the window.\n *\n * @see http://developer.chrome.com/apps/app.runtime.html\n * @see http://developer.chrome.com/apps/app.window.html\n */\nchrome.app.runtime.onLaunched.addListener(function(launchData) {\n  chrome.app.window.create(\n    'index.html',\n    {\n      id: 'mainWindow',\n      innerBounds: {\n        'width': 800,\n        'height': 600\n      }\n    }\n  );\n});"),e.file("css/style.css","html, body {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n}\n\nbody {\n  min-width: 300px;\n  min-height: 420px;\n}\n\nwebview, iframe {\n  width: 100%;\n  height: 100%;\n  border: 0;\n}"),e.file("index.html","<!DOCTYPE html>\n<html>\n  <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <link rel="stylesheet" href="css/style.css" />\n  </head>\n  <body>\n    <iframe src="app/index.html">\n      Your Chromebook does not support the iFrame html element.\n    </iframe>\n  </body>\n</html>'),e.file("manifest.json",'{\n  "manifest_version": 2,\n  "name": "'+$("[data-id=sitename]").val()+'",\n  "short_name": "'+$("[data-id=sitename]").val()+'",\n  "description": "'+$("[data-value=description]").val()+'",\n  "version": "'+$("[data-value=version]").val()+'",\n  "minimum_chrome_version": "38",\n  "permissions": [ "storage", "unlimitedStorage", "http://*/", "https://*/" ],\n  "icons": {\n    "16": "assets/16.png",\n    "32": "assets/32.png",\n    "64": "assets/64.png",\n    "128": "assets/128.png"\n  },\n\n  "browser_action": {\n    "default_icon": "assets/128.png",\n    "default_title": "'+$("[data-id=sitename]").val()+'",\n    "default_popup": "index.html"\n  },\n  \n  "content_security_policy": "script-src \'self\' \'unsafe-eval\'; object-src \'self\'"\n}');var l=e.generate({type:"blob"});return saveAs(l,n.name.substr(n.name.length-n.name.length,n.name.length-4)+"-chrome-ext.zip"),$(".dialog").fadeOut(),$(".preloader").addClass("hide"),!1}alertify.error("Unable to export: Description is blank!")})}}(t),s.readAsArrayBuffer(t),$(".check").removeClass("hide").addClass("hide"),setTimeout(function(){$("html, body").animate({scrollTop:$(".pickbits").offset().top},"slow")},300)}}}),!1});