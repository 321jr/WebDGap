function displayPreview(e){var a=new FileReader;a.onload=function(e){var a=new Image,n=new Image,t=new Image,i=new Image;a.src=e.target.result,n.src=e.target.result,t.src=e.target.result,i.src=e.target.result,n.onload=function(){ctx16.drawImage(n,0,0,16,16)},t.onload=function(){ctx32.drawImage(t,0,0,32,32)},i.onload=function(){ctx64.drawImage(i,0,0,64,64)},a.onload=function(){ctx.drawImage(a,0,0,128,128)}},$(".img--avatar").addClass("hide"),$("[data-id=sitename]").attr("disabled","true"),a.readAsDataURL(e)}$(function(){$("html, body").animate({scrollTop:0},"slow"),$(".dialog").hide(),$(".export64").on("click",function(){$(".64bit").removeClass("hide"),$(".32bit").addClass("hide"),$("html, body").animate({scrollTop:$(".chosenbit").offset().top},"slow")}),$(".export32").on("click",function(){$(".64bit").addClass("hide"),$(".32bit").removeClass("hide"),$("html, body").animate({scrollTop:$(".chosenbit").offset().top},"slow")}),$(".export-as-win32-app, .export-as-win-app, .export-as-mac-app, .export-as-lin32-app, .export-as-lin-app").click(function(){$(".preloader").removeClass("hide")}),$("[data-id=convertapp], [data-id=convertsite]").on("click",function(){"convertapp"===$(this).attr("data-id").toLowerCase()?($(".maindesc").html("Convert any web application to a native Windows/Linux/Mac/Chrome application."),$("[data-id=appspace]").removeClass("hide")):"convertsite"===$(this).attr("data-id").toLowerCase()&&($(".maindesc").html("Convert any website to a native Windows/Linux/Mac/Chrome application."),$("[data-id=webspace]").removeClass("hide"),$(".outputname").addClass("convertsite-picked"),$("[data-id=sitename]").addClass("convertsite-chosen"),$(".logoisloadedapp").addClass("hide")),$("body").removeClass("noscroll"),$(".wholedialog").fadeOut()}),$("[data-action=website]").on("keyup",function(e){"https://"===this.value.toLowerCase().substring(0,8)&&($(".export-as-chrome-app").addClass("hide"),alertify.message('https is not recommend.<br /><br /> If needed use <a href="https://bitly.com/shorten/">Bitly</a> to set url to http.')),""===this.value.toLowerCase()?$(".checkimageloader, [data-action=applyvalues]").addClass("hide"):"http://"===this.value.toLowerCase().substring(0,7)||"https://"===this.value.toLowerCase().substring(0,8)?($("[data-action=applyvalues]").removeClass("hide"),$("html, body").animate({scrollTop:$(this).offset().top},"slow"),13==e.which&&$("[data-action=applyvalues]").click()):$("[data-action=applyvalues]").addClass("hide")}),$("[data-id=sitename]").on("keyup",function(){$(this).hasClass("convertsite-chosen")?""===this.value?$("[data-action=website]").addClass("hide"):$("[data-action=website]").removeClass("hide"):""===this.value?$(".checkimageloader").addClass("hide"):$(".checkimageloader").removeClass("hide"),$(".outputname").text(this.value)}),$("[data-action=applyvalues]").click(function(){$(".checkimageloader, .outputname").removeClass("hide"),$(".logoisloadedsite").addClass("hide"),$(".outputname").text($("[data-id=sitename]").val())}),$("[data-action=reload]").click(function(){location.reload(!0)})});var loader=$(".load"),c16=$(".n16"),c32=$(".n32"),c64=$(".n64"),canvas=$(".holder"),holder=document.getElementById("imageloader"),loadFiles=$("#file, .load"),ctx16=c16[0].getContext("2d"),ctx32=c32[0].getContext("2d"),ctx64=c64[0].getContext("2d"),ctx=canvas[0].getContext("2d"),executeApp=function(e){$(".chromeappcheck").addClass("hide");var a=new FileReader;a.onload=function(e){return $(".export-as-win-app").on("click",function(){return JSZipUtils.getBinaryContent("assets/YourWinApp.zip",function(e,a){if(e)throw e;var n=new JSZip(a),t=c16[0].toDataURL("image/png"),i=c32[0].toDataURL("image/png"),s=c64[0].toDataURL("image/png"),o=canvas[0].toDataURL("image/png");n.file("resources/default_app/icons/16.png",t.split("base64,")[1],{base64:!0}),n.file("resources/default_app/icons/32.png",i.split("base64,")[1],{base64:!0}),n.file("resources/default_app/icons/64.png",s.split("base64,")[1],{base64:!0}),n.file("resources/default_app/icons/128.png",o.split("base64,")[1],{base64:!0}),n.file("resources/default_app/css/style.css","html, body {\n  height: 100%;\n  padding: 0;\n  margin: 0;\n  overflow: hidden;\n}\n\niframe {\n  width: 100%;\n  height: 100%;\n  border: 0;\n}"),n.file("resources/default_app/index.html","<!DOCTYPE html>\n<html>\n  <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <meta charset="utf-8">\n    <meta name="viewport" content="initial-scale=1.0">\n    <meta http-equiv="X-UA-Compatible" content="IE=9" />\n    <link type="text/css" rel="stylesheet" href="css/style.css" />\n  </head>\n  <body>\n    <iframe src="'+$("[data-action=website]").val()+'">\n      Your browser does not support the iFrame html elements.\n    </iframe>\n  </body>\n</html>'),n.file("resources/default_app/package.json",'{\n  "name": "'+$("[data-id=sitename]").val()+'",\n  "productName": "'+$("[data-id=sitename]").val()+'",\n  "version": "1.0.0",\n  "main": "default_app.js",\n  "license": "MIT"\n}\n');var l=n.generate({type:"blob"});return saveAs(l,$("[data-id=sitename]").val().toLowerCase().split(" ").join("-")+"-winsite.zip"),!1}),!1}),$(".export-as-win32-app").on("click",function(){JSZipUtils.getBinaryContent("assets/YourWin32App.zip",function(e,a){if(e)throw e;var n=new JSZip(a),t=c16[0].toDataURL("image/png"),i=c32[0].toDataURL("image/png"),s=c64[0].toDataURL("image/png"),o=canvas[0].toDataURL("image/png");n.file("app/icons/16.png",t.split("base64,")[1],{base64:!0}),n.file("app/icons/32.png",i.split("base64,")[1],{base64:!0}),n.file("app/icons/64.png",s.split("base64,")[1],{base64:!0}),n.file("app/icons/128.png",o.split("base64,")[1],{base64:!0}),n.file("package.json",'{\n  "main"  : "app/index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n      "toolbar" : false,\n      "icon"    : "app/icons/128.png",\n      "width"   : 1000,\n      "height"  : 600,\n      "position": "center"\n  }\n}'),n.file("app/index.html","<!doctype html>\n<html>\n <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <style>\n      iframe {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: visible;\n        border: 0;\n      }\n    </style>\n  </head>\n <body>\n    <iframe src="'+$("[data-action=website]").val()+'">\n      Your browser does not support the iFrame html elements.\n    </iframe>\n  </body>\n</html>');var l=n.generate({type:"blob"});return saveAs(l,$("[data-id=sitename]").val().toLowerCase().split(" ").join("-")+"-win32site.zip"),$(".preloader").addClass("hide"),!1})}),$(".export-as-mac-app").on("click",function(){return JSZipUtils.getBinaryContent("assets/YourMacApp.zip",function(e,a){if(e)throw e;var n=new JSZip(a),t=c16[0].toDataURL("image/png"),i=c32[0].toDataURL("image/png"),s=c64[0].toDataURL("image/png"),o=canvas[0].toDataURL("image/png");n.file("data/content/icons/16.png",t.split("base64,")[1],{base64:!0}),n.file("data/content/icons/32.png",i.split("base64,")[1],{base64:!0}),n.file("data/content/icons/64.png",s.split("base64,")[1],{base64:!0}),n.file("data/content/icons/128.png",o.split("base64,")[1],{base64:!0}),n.file("data/package.json",'{\n  "main"  : "content/index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n    "toolbar"    : false\n  }\n}'),n.file("data/content/index.html","<!doctype html>\n<html>\n <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <style>\n      iframe {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: visible;\n        border: 0;\n      }\n    </style>\n  </head>\n <body>\n    <iframe src="'+$("[data-action=website]").val()+'"></iframe>\n\n    <script src="js/main.js"></script>\n  </body>\n</html>'),n.file("data/content/js/main.js",'document.addEventListener("DOMContentLoaded", function() {\n  // Load library\n  var gui = require("nw.gui");\n\n  // Reference to window\n  var win = gui.Window.get();\n\n  // Create menu container\n  var Menu = new gui.Menu({\n    type: "menubar"\n  });\n\n  //initialize default mac menu\n  Menu.createMacBuiltin("'+$("[data-id=sitename]").val()+'");\n\n  // Get the root menu from the default mac menu\n  var rootMenu = Menu.items[0].submenu;\n  var windowMenu = Menu.items[2].submenu;\n\n  // Append new item to root menu\n  windowMenu.insert(\n    new gui.MenuItem({\n      type: "normal",\n      label: "Toggle Fullscreen",\n      key: "F",\n      modifiers: "cmd",\n      click : function () {\n        win.toggleFullscreen();\n      }\n    })\n  );\n\n  windowMenu.insert(\n    new gui.MenuItem({\n      type: "normal",\n      label: "Reload App",\n      key: "r",\n      modifiers: "cmd",\n      click : function () {\n        win.reload();\n      }\n    })\n  );\n\n  // Remove About Node-Webkit\n  rootMenu.removeAt(0);\n\n  // Append Menu to Window\n  gui.Window.get().menu = Menu;\n});'),n.file("run.sh","open -a /Applications/"+$("[data-id=sitename]").val()+".app/Contents/data/"+$("[data-id=sitename]").val().split(" ").join("")+".app");var l=n.generate({type:"blob"});return saveAs(l,$("[data-id=sitename]").val().toLowerCase().split(" ").join("-")+"-macsite.zip"),!1}),!1}),$(".export-as-lin-app").on("click",function(){return JSZipUtils.getBinaryContent("assets/YourLinApp.zip",function(e,a){if(e)throw e;var n=new JSZip,t=n.folder($("[data-id=sitename]").val().replace(/ /g,"-"));t.load(a);var i=c16[0].toDataURL("image/png"),s=c32[0].toDataURL("image/png"),o=c64[0].toDataURL("image/png"),l=canvas[0].toDataURL("image/png");t.file("resources/default_app/icons/16.png",i.split("base64,")[1],{base64:!0}),t.file("resources/default_app/icons/32.png",s.split("base64,")[1],{base64:!0}),t.file("resources/default_app/icons/64.png",o.split("base64,")[1],{base64:!0}),t.file("resources/default_app/icons/128.png",l.split("base64,")[1],{base64:!0}),t.file("resources/default_app/index.html","<!DOCTYPE html>\n<html>\n  <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <style>\n      html, body {\n        height: 100%;\n      }\n      body {\n        margin: 0;\n        padding: 0;\n        overflow: hidden;\n      }\n      iframe {\n        width: 100%;\n        height: 100%;\n        border: 0;\n      }\n    </style>\n  </head>\n  <body>\n    <iframe src="'+$("[data-action=website]").val()+'"></iframe>\n  </body>\n</html>'),t.file("resources/default_app/package.json",'{\n  "name": "'+$("[data-id=sitename]").val()+'",\n  "productName": "'+$("[data-id=sitename]").val()+'",\n  "version": "1.0.0",\n  "main": "default_app.js",\n  "license": "MIT"\n}\n'),n.file("make.sh","if [ -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/electron\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/resources/default_app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 electron\nfi\n\nif [ ! -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  mv "+$("[data-id=sitename]").val().replace(/ /g,"-")+" ${HOME}\n\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/electron\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/resources/default_app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 electron\nfi\n\n# For Windows OS\n#if EXIST ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" (\n  #echo Yes\n#) ELSE (\n  #echo No\n#)\n"),n.file("README.md","### Instructions\n 1. Extract the `"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite.zip` folder anywhere on your computer except the home folder. \n 2. Open a terminal and then navigate to "+$("[data-id=sitename]").val().replace(/ /g,"-")+"'s directory and `run the make.sh file`.\n\n  **example**:\n  cd Downloads/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite\n\n 3. This will move the "+$("[data-id=sitename]").val().replace(/ /g,"-")+" sibling folder and it's descendants to your home directory and create an application launcher.\n");var d=n.generate({type:"blob"});return saveAs(d,$("[data-id=sitename]").val().toLowerCase().split(" ").join("-")+"-linsite.zip"),!1}),!1}),$(".export-as-lin32-app").on("click",function(){JSZipUtils.getBinaryContent("assets/YourLin32App.zip",function(e,a){if(e)throw e;var n=new JSZip,t=n.folder($("[data-id=sitename]").val().replace(/ /g,"-"));t.load(a);var i=c16[0].toDataURL("image/png"),s=c32[0].toDataURL("image/png"),o=c64[0].toDataURL("image/png"),l=canvas[0].toDataURL("image/png");t.file("app/icons/16.png",i.split("base64,")[1],{base64:!0}),t.file("app/icons/32.png",s.split("base64,")[1],{base64:!0}),t.file("app/icons/64.png",o.split("base64,")[1],{base64:!0}),t.file("app/icons/128.png",l.split("base64,")[1],{base64:!0}),t.file("package.json",'{\n  "main"  : "app/index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n      "toolbar" : false,\n      "icon"    : "app/icons/128.png",\n      "width"   : 1000,\n      "height"  : 600,\n      "position": "center"\n  }\n}'),t.file("app/index.html","<!doctype html>\n<html>\n <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <style>\n      iframe {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: visible;\n        border: 0;\n      }\n    </style>\n  </head>\n <body>\n    <iframe src="app/index.html"></iframe>\n  </body>\n</html>'),n.file("make.sh","if [ -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/nw\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 nw\nfi\n\nif [ ! -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  mv "+$("[data-id=sitename]").val().replace(/ /g,"-")+" ${HOME}\n\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/nw\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 nw\nfi\n\n# For Windows OS\n#if EXIST ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" (\n  #echo Yes\n#) ELSE (\n  #echo No\n#)\n"),n.file("README.md","### Instructions\n 1. Extract the `"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site.zip` folder anywhere on your computer except the home folder. \n 2. Open a terminal and then navigate to "+$("[data-id=sitename]").val().replace(/ /g,"-")+"'s directory and `run the make.sh file`.\n\n  **example**:\n  cd Downloads/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site\n\n 3. This will move the "+$("[data-id=sitename]").val().replace(/ /g,"-")+" sibling folder and it's descendants to your home directory and create an application launcher.\n");var d=n.generate({type:"blob"});return saveAs(d,$("[data-id=sitename]").val().toLowerCase().split(" ").join("-")+"-lin32site.zip"),$(".preloader").addClass("hide"),!1})}),$(".export-for-chrome").on("click",function(){$(".pickchromes").toggleClass("hide"),$("html, body").animate({scrollTop:$(".pickchromes").offset().top},"slow")}),$(".reset").on("click",function(){$(".resetval").val("")}),$(".chromeapp").on("click",function(){$(".chromeappexport").removeClass("hide"),$(".chromepopexport").addClass("hide"),$(".dialog").fadeIn(),$("html, body").animate({scrollTop:$(".dialog").offset().top},"slow")}),$(".chromepopup").on("click",function(){$(".chromeappexport").addClass("hide"),$(".chromepopexport").removeClass("hide"),$(".dialog").fadeIn(),$("html, body").animate({scrollTop:$(".dialog").offset().top},"slow")}),$(".chromeappexport").on("click",function(){if(""==$("[data-value=description]").val())alertify.error("Unable to export: Description is blank!");else{$(".preloader").removeClass("hide");var e=new JSZip,a=c16[0].toDataURL("image/png"),n=c32[0].toDataURL("image/png"),t=c64[0].toDataURL("image/png"),i=canvas[0].toDataURL("image/png");e.file("assets/16.png",a.split("base64,")[1],{base64:!0}),e.file("assets/32.png",n.split("base64,")[1],{base64:!0}),e.file("assets/64.png",t.split("base64,")[1],{base64:!0}),e.file("assets/128.png",i.split("base64,")[1],{base64:!0}),e.file("background.js","/**\n * Listens for the app launching, then creates the window.\n *\n * @see http://developer.chrome.com/apps/app.runtime.html\n * @see http://developer.chrome.com/apps/app.window.html\n */\nchrome.app.runtime.onLaunched.addListener(function(launchData) {\n  chrome.app.window.create(\n    'index.html',\n    {\n      id: 'mainWindow',\n      innerBounds: {\n        'width': 800,\n        'height': 600\n      }\n    }\n  );\n});"),e.file("manifest.json",'{\n  "manifest_version": 2,\n  "name": "'+$("[data-id=sitename]").val()+'",\n  "short_name": "'+$("[data-id=sitename]").val()+'",\n  "description": "A native '+$("[data-id=sitename]").val()+' standalone webview app for your Chrome Browser.",\n  "version": "'+$("[data-value=version]").val()+'",\n  "minimum_chrome_version": "38",\n  "permissions":[ "webview", "storage", "fileSystem", "unlimitedStorage", "http://*/", "https://*/" ],\n  "icons": {\n    "16": "assets/16.png",\n    "32": "assets/32.png",\n    "64": "assets/64.png",\n    "128": "assets/128.png"\n  },\n\n  "app": {\n    "background": {\n      "scripts": ["background.js"]\n    }\n  }\n}\n'),e.file("css/style.css","html, body {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n}\n\nwebview {\n  width: 100%;\n  height: 100%;\n}"),e.file("index.html","<!DOCTYPE html>\n<html>\n  <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <link rel="stylesheet" href="css/style.css" />\n  </head>\n  <body>\n    <webview src="'+$("[data-action=website]").val()+'">\n      Your Chromebook does not support the WebView html5 element.\n    </webview>\n  </body>\n</html>');var s=e.generate({type:"blob"});saveAs(s,$("[data-id=sitename]").val().toLowerCase().split(" ").join("-")+"-chromewebview.zip"),$(".dialog").fadeOut(),$(".preloader").addClass("hide")}return!1}),$(".chromepopexport").on("click",function(){if(""!=$("[data-value=description]").val()){$(".preloader").removeClass("hide");var e=new JSZip,a=c16[0].toDataURL("image/png"),n=c32[0].toDataURL("image/png"),t=c64[0].toDataURL("image/png"),i=canvas[0].toDataURL("image/png");e.file("assets/16.png",a.split("base64,")[1],{base64:!0}),e.file("assets/32.png",n.split("base64,")[1],{base64:!0}),e.file("assets/64.png",t.split("base64,")[1],{base64:!0}),e.file("assets/128.png",i.split("base64,")[1],{base64:!0}),e.file("background.js","/**\n * Listens for the app launching, then creates the window.\n *\n * @see http://developer.chrome.com/apps/app.runtime.html\n * @see http://developer.chrome.com/apps/app.window.html\n */\nchrome.app.runtime.onLaunched.addListener(function(launchData) {\n  chrome.app.window.create(\n    'index.html',\n    {\n      id: 'mainWindow',\n      innerBounds: {\n        'width': 800,\n        'height': 600\n      }\n    }\n  );\n});"),e.file("css/style.css","html, body {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n}\n\nbody {\n  min-width: 300px;\n  min-height: 420px;\n}\n\nwebview, iframe {\n  width: 100%;\n  height: 100%;\n  border: 0;\n}"),e.file("index.html","<!DOCTYPE html>\n<html>\n  <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <link rel="stylesheet" href="css/style.css" />\n  </head>\n  <body>\n    <iframe src="'+$("[data-action=website]").val()+'">\n      Your version of Chrome does not support the iFrame element.\n    </iframe>\n  </body>\n</html>'),e.file("manifest.json",'{\n  "manifest_version": 2,\n  "name": "'+$("[data-id=sitename]").val()+'",\n  "short_name": "'+$("[data-id=sitename]").val()+'",\n  "description": "'+$("[data-value=description]").val()+'",\n  "version": "'+$("[data-value=version]").val()+'",\n  "minimum_chrome_version": "38",\n  "permissions": [ "storage", "unlimitedStorage", "http://*/", "https://*/" ],\n  "icons": {\n    "16": "assets/16.png",\n    "32": "assets/32.png",\n    "64": "assets/64.png",\n    "128": "assets/128.png"\n  },\n\n  "browser_action": {\n    "default_icon": "assets/128.png",\n    "default_title": "'+$("[data-id=sitename]").val()+'",\n    "default_popup": "index.html"\n  },\n  \n  "content_security_policy": "script-src \'self\' \'unsafe-eval\'; object-src \'self\'"\n}');var s=e.generate({type:"blob"});return saveAs(s,$("[data-id=sitename]").val().toLowerCase().split(" ").join("-")+"-chromeext-webview.zip"),$(".dialog").fadeOut(),$(".preloader").addClass("hide"),!1}alertify.error("Unable to export: Description is blank!")}),!1},a.readAsArrayBuffer(e)};$(document).ready(function(){function e(e,a){var t=$("<ul>");try{var i=$("<h4>",{text:e});n.append(i);var s=new Date,o=new JSZip(a),l=new Date;i.append($("<span>",{text:" (parsed in "+(l-s)+"ms)"})),$(".check").removeClass("hide"),$.each(o.files,function(e,a){t.append($('<li class="hide">',{text:a.name}))})}catch(d){t=$("<div>",{"class":"alert alert-danger",text:"Error reading "+theFile.name+" : "+d.message})}n.append(t)}$(window).on("load resize",function(){window.innerWidth>window.innerHeight?document.querySelector(".walkthrough-dialog").style="":window.innerWidth<window.innerHeight&&(document.querySelector(".walkthrough-dialog").style.margin="2em")});var a=localStorage.getItem("closedWelcome");if("true"===a?$("#close-walkthrough").prop("checked",!0):$("#close-walkthrough").prop("checked",""),$("#close-walkthrough").click(function(){localStorage.setItem("closedWelcome",$(this).prop("checked"))}),window.File&&window.FileReader&&window.FileList&&window.Blob||alertify.alert("The File APIs are not fully supported in this browser.").set("basic",!0),!window.FileReader||!window.ArrayBuffer)return void $(".error_block").removeClass("hide");holder.ondragover=function(){return this.className="hover",!1},holder.ondragend=function(){return this.className="",!1},holder.ondrop=function(e){loader.addClass("hide"),this.className="",e.preventDefault();var a=e.dataTransfer.files[0];displayPreview(a),$("[data-action=displayfooter]").removeClass("hide"),$(".convertsite-picked").is(":visible")?($(".logoisloadedsite, .logoisloadedapp, .loadavatar").addClass("hide"),$(".logo, .check, .outputname").removeClass("hide"),$("html, body").animate({scrollTop:$(".pickbits").offset().top},"slow"),executeApp(a)):($(".loadavatar").addClass("hide"),$(".loadzip, .logo, .outputname, .logoisloadedapp").removeClass("hide"),$("html, body").animate({scrollTop:$(".logoisloadedapp").offset().top},"slow"))},loader.on("change",function(e){var a=e.target.files[0];displayPreview(a),$("[data-action=displayfooter]").removeClass("hide"),$(".convertsite-picked").is(":visible")?($(".logoisloadedsite, .logoisloadedapp, .loadavatar").addClass("hide"),$(".logo, .check, .outputname").removeClass("hide"),$("html, body").animate({scrollTop:$(".pickbits").offset().top},"slow"),executeApp(a)):($(".loadavatar").addClass("hide"),$(".loadzip, .logo, .outputname, .logoisloadedapp").removeClass("hide"),$("html, body").animate({scrollTop:$(".logoisloadedapp").offset().top},"slow"))});var n=$(".result");return loadFiles.on("change",function(a){if(""===$("#file").val()||""===$("[data-id=sitename]").val());else{$(".check").removeClass("hide"),n.html(""),$(".result_block").removeClass("hide");for(var t,i=a.target.files,s=0;t=i[s];s++){var o=new FileReader;o.onload=function(a){return function(n){var t=n.target.result;e(a.name,t),$(".export-as-win-app").on("click",function(){JSZipUtils.getBinaryContent("assets/YourWinApp.zip",function(e,n){if(e)throw e;var i=new JSZip;i.load(n),i.folder("app/").load(t);var s=c16[0].toDataURL("image/png"),o=c32[0].toDataURL("image/png"),l=c64[0].toDataURL("image/png"),d=canvas[0].toDataURL("image/png");i.file("app/icons/16.png",s.split("base64,")[1],{base64:!0}),i.file("app/icons/32.png",o.split("base64,")[1],{base64:!0}),i.file("app/icons/64.png",l.split("base64,")[1],{base64:!0}),i.file("app/icons/128.png",d.split("base64,")[1],{base64:!0}),i.file("package.json",'{\n  "main"  : "index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n      "toolbar" : false,\n      "icon"    : "app/icons/128.png",\n      "width"   : 1000,\n      "height"  : 600,\n      "position": "center"\n  }\n}'),i.file("index.html","<!doctype html>\n<html>\n <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <style>\n      iframe {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: visible;\n        border: 0;\n      }\n    </style>\n  </head>\n <body>\n    <iframe src="app/index.html"></iframe>\n  </body>\n</html>');var r=i.generate({type:"blob"});return saveAs(r,a.name.substr(a.name.length-a.name.length,a.name.length-4)+"-win.zip"),$(".preloader").addClass("hide"),!1})}),$(".export-as-win32-app").on("click",function(){JSZipUtils.getBinaryContent("assets/YourWin32App.zip",function(e,n){if(e)throw e;var i=new JSZip;i.load(n),i.folder("app/").load(t);var s=c16[0].toDataURL("image/png"),o=c32[0].toDataURL("image/png"),l=c64[0].toDataURL("image/png"),d=canvas[0].toDataURL("image/png");i.file("app/icons/16.png",s.split("base64,")[1],{base64:!0}),i.file("app/icons/32.png",o.split("base64,")[1],{base64:!0}),i.file("app/icons/64.png",l.split("base64,")[1],{base64:!0}),i.file("app/icons/128.png",d.split("base64,")[1],{base64:!0}),i.file("package.json",'{\n  "main"  : "index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n      "toolbar" : false,\n      "icon"    : "app/icons/128.png",\n      "width"   : 1000,\n      "height"  : 600,\n      "position": "center"\n  }\n}'),i.file("index.html","<!doctype html>\n<html>\n <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <style>\n      iframe {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: visible;\n        border: 0;\n      }\n    </style>\n  </head>\n <body>\n    <iframe src="app/index.html"></iframe>\n  </body>\n</html>');var r=i.generate({type:"blob"});return saveAs(r,a.name.substr(a.name.length-a.name.length,a.name.length-4)+"-win32.zip"),$(".preloader").addClass("hide"),!1})}),$(".export-as-lin-app").on("click",function(){JSZipUtils.getBinaryContent("assets/YourLinApp.zip",function(e,n){if(e)throw e;var i=new JSZip,s=i.folder($("[data-id=sitename]").val().replace(/ /g,"-"));s.load(n),s.folder("app/").load(t);var o=c16[0].toDataURL("image/png"),l=c32[0].toDataURL("image/png"),d=c64[0].toDataURL("image/png"),r=canvas[0].toDataURL("image/png");s.file("app/icons/16.png",o.split("base64,")[1],{base64:!0}),s.file("app/icons/32.png",l.split("base64,")[1],{base64:!0}),s.file("app/icons/64.png",d.split("base64,")[1],{base64:!0}),s.file("app/icons/128.png",r.split("base64,")[1],{base64:!0}),s.file("package.json",'{\n  "main"  : "app/index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n      "toolbar" : false,\n      "icon"    : "app/icons/128.png",\n      "width"   : 1000,\n      "height"  : 600,\n      "position": "center"\n  }\n}'),i.file("make.sh","if [ -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/nw\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 nw\nfi\n\nif [ ! -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  mv "+$("[data-id=sitename]").val().replace(/ /g,"-")+" ${HOME}\n\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/nw\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 nw\nfi\n\n# For Windows OS\n#if EXIST ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" (\n  #echo Yes\n#) ELSE (\n  #echo No\n#)\n"),
i.file("README.md","### Instructions\n 1. Extract the `"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite.zip` folder anywhere on your computer except the home folder. \n 2. Open a terminal and then navigate to "+$("[data-id=sitename]").val().replace(/ /g,"-")+"'s directory and `run the make.sh file`.\n\n  **example**:\n  cd Downloads/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-linsite\n\n 3. This will move the "+$("[data-id=sitename]").val().replace(/ /g,"-")+" sibling folder and it's descendants to your home directory and create an application launcher.\n");var p=i.generate({type:"blob"});return saveAs(p,a.name.substr(a.name.length-a.name.length,a.name.length-4)+"-lin.zip"),$(".preloader").addClass("hide"),!1})}),$(".export-as-lin32-app").on("click",function(){JSZipUtils.getBinaryContent("assets/YourLin32App.zip",function(e,n){if(e)throw e;var i=new JSZip,s=i.folder($("[data-id=sitename]").val().replace(/ /g,"-"));s.load(n),s.folder("app/").load(t);var o=c16[0].toDataURL("image/png"),l=c32[0].toDataURL("image/png"),d=c64[0].toDataURL("image/png"),r=canvas[0].toDataURL("image/png");s.file("app/icons/16.png",o.split("base64,")[1],{base64:!0}),s.file("app/icons/32.png",l.split("base64,")[1],{base64:!0}),s.file("app/icons/64.png",d.split("base64,")[1],{base64:!0}),s.file("app/icons/128.png",r.split("base64,")[1],{base64:!0}),s.file("package.json",'{\n  "main"  : "app/index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n      "toolbar" : false,\n      "icon"    : "app/icons/128.png",\n      "width"   : 1000,\n      "height"  : 600,\n      "position": "center"\n  }\n}'),i.file("make.sh","if [ -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/nw\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 nw\nfi\n\nif [ ! -d ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" ]; then\n  mv "+$("[data-id=sitename]").val().replace(/ /g,"-")+" ${HOME}\n\n  typeset LP_FILE=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/"+$("[data-id=sitename]").val().replace(/ /g,"-")+'.desktop\n\n  # Remove the target file if any\n  rm -f ${LP_FILE}\n  printf "%s[Desktop Entry]\\nName='+$("[data-id=sitename]").val()+"\\nPath=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"\\nActions=sudo\\nExec=./"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/nw\\nIcon=${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/app/icons/128.png\\nTerminal=true\\nType=Application\\nStartupNotify=true > ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+".desktop\" >> ${LP_FILE}\n\n  echo 'Your application and launcher are now located at ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"'\n  rm README.md\n  rm make.sh\n  cd ../\n  rmdir "+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site\n  cd ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"/\n  chmod 775 nw\nfi\n\n# For Windows OS\n#if EXIST ${HOME}/"+$("[data-id=sitename]").val().replace(/ /g,"-")+" (\n  #echo Yes\n#) ELSE (\n  #echo No\n#)\n"),i.file("README.md","### Instructions\n 1. Extract the `"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site.zip` folder anywhere on your computer except the home folder. \n 2. Open a terminal and then navigate to "+$("[data-id=sitename]").val().replace(/ /g,"-")+"'s directory and `run the make.sh file`.\n\n  **example**:\n  cd Downloads/"+$("[data-id=sitename]").val().replace(/ /g,"-")+"-lin32site\n\n 3. This will move the "+$("[data-id=sitename]").val().replace(/ /g,"-")+" sibling folder and it's descendants to your home directory and create an application launcher.\n");var p=i.generate({type:"blob"});return saveAs(p,a.name.substr(a.name.length-a.name.length,a.name.length-4)+"-lin32.zip"),$(".preloader").addClass("hide"),!1})}),$(".export-as-mac-app").on("click",function(){JSZipUtils.getBinaryContent("assets/YourMacApp.zip",function(e,n){if(e)throw e;var i=new JSZip;i.load(n),i.folder("data/content/app").load(t);var s=c16[0].toDataURL("image/png"),o=c32[0].toDataURL("image/png"),l=c64[0].toDataURL("image/png"),d=canvas[0].toDataURL("image/png");i.file("data/content/app/icons/16.png",s.split("base64,")[1],{base64:!0}),i.file("data/content/app/icons/32.png",o.split("base64,")[1],{base64:!0}),i.file("data/content/app/icons/64.png",l.split("base64,")[1],{base64:!0}),i.file("data/content/app/icons/128.png",d.split("base64,")[1],{base64:!0}),i.file("data/package.json",'{\n  "main"  : "content/index.html",\n  "name"  : "'+$("[data-id=sitename]").val()+'",\n  "window": {\n    "toolbar"    : false\n  }\n}'),i.file("data/content/index.html","<!doctype html>\n<html>\n <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <style>\n      iframe {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: visible;\n        border: 0;\n      }\n    </style>\n  </head>\n <body>\n    <iframe src="app/index.html"></iframe>\n\n    <script src="js/main.js"></script>\n  </body>\n</html>'),i.file("data/content/js/main.js",'document.addEventListener("DOMContentLoaded", function() {\n  // Load library\n  var gui = require("nw.gui");\n\n  // Reference to window\n  var win = gui.Window.get();\n\n  // Create menu container\n  var Menu = new gui.Menu({\n    type: "menubar"\n  });\n\n  //initialize default mac menu\n  Menu.createMacBuiltin("'+$("[data-id=sitename]").val()+'");\n\n  // Get the root menu from the default mac menu\n  var rootMenu = Menu.items[0].submenu;\n  var windowMenu = Menu.items[2].submenu;\n\n  // Append new item to root menu\n  windowMenu.insert(\n    new gui.MenuItem({\n      type: "normal",\n      label: "Toggle Fullscreen",\n      key: "F",\n      modifiers: "cmd",\n      click : function () {\n        win.toggleFullscreen();\n      }\n    })\n  );\n\n  windowMenu.insert(\n    new gui.MenuItem({\n      type: "normal",\n      label: "Reload App",\n      key: "r",\n      modifiers: "cmd",\n      click : function () {\n        win.reload();\n      }\n    })\n  );\n\n  // Remove About Node-Webkit\n  rootMenu.removeAt(0);\n\n  // Append Menu to Window\n  gui.Window.get().menu = Menu;\n});'),i.file("run.sh","open -a /Applications/"+$("[data-id=sitename]").val().replace(/ /g,"")+".app/Contents/data/"+$("[data-id=sitename]").val().replace(/ /g,"")+".app");var r=i.generate({type:"blob"});return saveAs(r,a.name.substr(a.name.length-a.name.length,a.name.length-4)+"-mac.zip"),$(".preloader").addClass("hide"),!1})}),$(".export-for-chrome").on("click",function(){$(".pickchromes").toggleClass("hide"),$("html, body").animate({scrollTop:$(".pickchromes").offset().top},"slow")}),$(".reset").on("click",function(){$(".resetval").val("")}),$(".chromeapp").on("click",function(){$(".chromeappcheck").removeClass("hide"),$(".chromeappexport").removeClass("hide"),$(".chromepopexport").addClass("hide"),$(".dialog").fadeIn(),$("html, body").animate({scrollTop:$(".dialog").offset().top},"slow")}),$(".chromepopup").on("click",function(){$(".chromeappcheck").addClass("hide"),$(".chromeappexport").addClass("hide"),$(".chromepopexport").removeClass("hide"),$(".dialog").fadeIn(),$("html, body").animate({scrollTop:$(".dialog").offset().top},"slow")}),$(".chromeappexport").on("click",function(){if(""==$("[data-value=description]").val())alertify.error("Unable to export: Description is blank!");else{$(".preloader").removeClass("hide");var e=new JSZip;e.folder("app").load(t);var n=c16[0].toDataURL("image/png"),i=c32[0].toDataURL("image/png"),s=c64[0].toDataURL("image/png"),o=canvas[0].toDataURL("image/png");e.file("assets/16.png",n.split("base64,")[1],{base64:!0}),e.file("assets/32.png",i.split("base64,")[1],{base64:!0}),e.file("assets/64.png",s.split("base64,")[1],{base64:!0}),e.file("assets/128.png",o.split("base64,")[1],{base64:!0}),e.file("background.js","/**\n * Listens for the app launching, then creates the window.\n *\n * @see http://developer.chrome.com/apps/app.runtime.html\n * @see http://developer.chrome.com/apps/app.window.html\n */\nchrome.app.runtime.onLaunched.addListener(function(launchData) {\n  chrome.app.window.create(\n    'index.html',\n    {\n      id: 'mainWindow',\n      innerBounds: {\n        'width': 800,\n        'height': 600\n      }\n    }\n  );\n});"),e.file("css/style.css","html, body {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n}\n\nwebview, iframe {\n  width: 100%;\n  height: 100%;\n  border: 0;\n}"),e.file("index.html","<!DOCTYPE html>\n<html>\n  <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <link rel="stylesheet" href="css/style.css" />\n  </head>\n  <body>\n    <iframe src="app/index.html">\n      Your Chromebook does not support the iFrame html element.\n    </iframe>\n  </body>\n</html>'),$(".offline-mode").is(":checked")?e.file("manifest.json",'{\n  "manifest_version": 2,\n  "name": "'+$("[data-id=sitename]").val()+'",\n  "short_name": "'+$("[data-id=sitename]").val()+'",\n  "description": "'+$("[data-value=description]").val()+'",\n  "version": "'+$("[data-value=version]").val()+'",\n  "minimum_chrome_version": "38",\n  "offline_enabled": true,\n  "permissions": [ "storage", "fileSystem", "unlimitedStorage", "http://*/", "https://*/" ],\n  "icons": {\n    "16": "assets/16.png",\n    "32": "assets/32.png",\n    "64": "assets/64.png",\n    "128": "assets/128.png"\n  },\n\n  "app": {\n    "background": {\n      "scripts": ["background.js"]\n    }\n  }\n}\n'):e.file("manifest.json",'{\n  "manifest_version": 2,\n  "name": "'+$("[data-id=sitename]").val()+'",\n  "short_name": "'+$("[data-id=sitename]").val()+'",\n  "description": "'+$("[data-value=description]").val()+'",\n  "version": "'+$("[data-value=version]").val()+'",\n  "minimum_chrome_version": "38",\n  "offline_enabled": false,\n  "permissions": [ "storage", "fileSystem", "unlimitedStorage", "http://*/", "https://*/" ],\n  "icons": {\n    "16": "assets/16.png",\n    "32": "assets/32.png",\n    "64": "assets/64.png",\n    "128": "assets/128.png"\n  },\n\n  "app": {\n    "background": {\n      "scripts": ["background.js"]\n    }\n  }\n}\n');var l=e.generate({type:"blob"});saveAs(l,a.name.substr(a.name.length-a.name.length,a.name.length-4)+"-chromeapp.zip"),$(".dialog").fadeOut(),$(".preloader").addClass("hide")}return!1}),$(".chromepopexport").on("click",function(){if(""!=$("[data-value=description]").val()){$(".preloader").removeClass("hide");var e=new JSZip;e.folder("app").load(t);var n=c16[0].toDataURL("image/png"),i=c32[0].toDataURL("image/png"),s=c64[0].toDataURL("image/png"),o=canvas[0].toDataURL("image/png");e.file("assets/16.png",n.split("base64,")[1],{base64:!0}),e.file("assets/32.png",i.split("base64,")[1],{base64:!0}),e.file("assets/64.png",s.split("base64,")[1],{base64:!0}),e.file("assets/128.png",o.split("base64,")[1],{base64:!0}),e.file("background.js","/**\n * Listens for the app launching, then creates the window.\n *\n * @see http://developer.chrome.com/apps/app.runtime.html\n * @see http://developer.chrome.com/apps/app.window.html\n */\nchrome.app.runtime.onLaunched.addListener(function(launchData) {\n  chrome.app.window.create(\n    'index.html',\n    {\n      id: 'mainWindow',\n      innerBounds: {\n        'width': 800,\n        'height': 600\n      }\n    }\n  );\n});"),e.file("css/style.css","html, body {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n}\n\nbody {\n  min-width: 300px;\n  min-height: 420px;\n}\n\nwebview, iframe {\n  width: 100%;\n  height: 100%;\n  border: 0;\n}"),e.file("index.html","<!DOCTYPE html>\n<html>\n  <head>\n    <title>"+$("[data-id=sitename]").val()+'</title>\n    <link rel="stylesheet" href="css/style.css" />\n  </head>\n  <body>\n    <iframe src="app/index.html">\n      Your Chromebook does not support the iFrame html element.\n    </iframe>\n  </body>\n</html>'),e.file("manifest.json",'{\n  "manifest_version": 2,\n  "name": "'+$("[data-id=sitename]").val()+'",\n  "short_name": "'+$("[data-id=sitename]").val()+'",\n  "description": "'+$("[data-value=description]").val()+'",\n  "version": "'+$("[data-value=version]").val()+'",\n  "minimum_chrome_version": "38",\n  "permissions": [ "storage", "unlimitedStorage", "http://*/", "https://*/" ],\n  "icons": {\n    "16": "assets/16.png",\n    "32": "assets/32.png",\n    "64": "assets/64.png",\n    "128": "assets/128.png"\n  },\n\n  "browser_action": {\n    "default_icon": "assets/128.png",\n    "default_title": "'+$("[data-id=sitename]").val()+'",\n    "default_popup": "index.html"\n  },\n  \n  "content_security_policy": "script-src \'self\' \'unsafe-eval\'; object-src \'self\'"\n}');var l=e.generate({type:"blob"});return saveAs(l,a.name.substr(a.name.length-a.name.length,a.name.length-4)+"-chrome-ext.zip"),$(".dialog").fadeOut(),$(".preloader").addClass("hide"),!1}alertify.error("Unable to export: Description is blank!")})}}(t),o.readAsArrayBuffer(t),$(".check").removeClass("hide").addClass("hide"),setTimeout(function(){$("html, body").animate({scrollTop:$(".pickbits").offset().top},"slow")},300)}}}),!1});