function DebugMsg(e){console.log("WebDGap Debug: "+e)}function onEnvReady(){setTimeout(function(){},1e3)}function handleCallback(e,l){if("function"==typeof e)try{var l=Array.prototype.slice.call(arguments,1)
return e.apply(this,l)}catch(e){return DebugMsg("callback function caused an exception"),null}}function pgSaveFile(e,l,t,n,o){var i=0,a=e.size,c=0,r=l,d=function(l){var d=function(l){l.createWriter(function(r){var d=function(){var l=5242880>a-c?a-c:5242880,t=e.slice(c,c+l)
i=l,r.write(t)}
r.onwriteend=function(e){c+=i,handleCallback(o,c,Math.trunc(c/a*100)),c<a?d():(DebugMsg("All done saving generated app file."),handleCallback(t,l))},r.onerror=function(e){DebugMsg("Failed file read: "+e.toString()),handleCallback(n,e)},d()},function(e){DebugMsg("Error: Could not create file writer, "+e.code),handleCallback(n,e.code)})},s=function(e){e.getFile(r,{create:0==c,exclusive:!1},function(e){d(e)},function(e){DebugMsg("Error: Could not getFile, "+e.code),handleCallback(n,e.code)})}
if("object"==typeof l&&"string"==typeof l.nativeURL){var u=l.nativeURL
u=u.substring(0,u.lastIndexOf("/")+1),window.resolveLocalFileSystemURL(u,function(e){s(e)},function(e){DebugMsg("Error: Failed to resolve directory URL from FileBrowser, "+e.code),handleCallback(n,e.code)})}else{s(lastFolderSelected)}};(new FileBrowser).Show(l,function(e){r=e.name,d(e)},function(){handleCallback(n,1),DebugMsg("File select canceled, pgSaveFile calling error callback")})}PhoneGapRelatedJsLoaded=!0,document.addEventListener("deviceready",function(){onEnvReady()},!1)
var FileBrowser=function(e){var l=this
this._onFileSelected=null,this._default_fileName="",this.lastFileSelected=null,void 0!==e&&(lastFolderSelected=e),file_Browser_params={directory_browser:!1,new_file_btn:!0,new_folder_btn:!0,ok_btn:!1,initial_folder:lastFolderSelected,default_fileName:l._default_fileName,custom_title:"Save your generated App",confirm_selected_file:!0,confirm_selected_file_prompt:"Are you sure this is the file you want to save your app to?  If it previously existed, it will overwrite old contents.",on_file_select:function(e){try{handleCallback(l._onFileSelected,e)}catch(e){}return!1},on_cancel_file_select:function(){try{handleCallback(l._onCancelFileSelect)}catch(e){}},on_folder_select:function(e){},on_ok:function(e){lastFolderSelected=e}},this.Show=function(e,l,t){this._onFileSelected=l,this._onCancelFileSelect=t,this._default_fileName=e,$("#browseBtn").click()}}
document.addEventListener("deviceready",function(){var e=null!=cordova.file.externalRootDirectory?cordova.file.externalRootDirectory:cordova.file.externalDataDirectory
lastFolderSelected=null,window.resolveLocalFileSystemURL(e,function(e){lastFolderSelected=e},function(l){DebugMsg("failed to get resolve saveDir: "+e)})},!1)
