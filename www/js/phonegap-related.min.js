function DebugMsg(e){console.log("WebDGap Debug: "+e)}function onEnvReady(){setTimeout(function(){},1e3)}function handleCallback(e,n){if("function"==typeof e)try{var n=Array.prototype.slice.call(arguments,1)
return e.apply(this,n)}catch(e){return DebugMsg("callback function caused an exception"),null}}function pgSaveFile(e,n,o,t,a){var l=0,r=e.size,i=0,c=n,d=function(n){var d=function(n){n.createWriter(function(c){var d=function(){var n=5242880>r-i?r-i:5242880,o=e.slice(i,i+n)
l=n,c.write(o)}
c.onwriteend=function(e){i+=l,handleCallback(a,i,Math.trunc(i/r*100)),i<r?d():(DebugMsg("All done saving generated app file."),handleCallback(o,n))},c.onerror=function(e){DebugMsg("Failed file read: "+e.toString()),handleCallback(t,e)},d()},function(e){DebugMsg("Error: Could not create file writer, "+e.code),handleCallback(t,e.code)})},u=function(e){e.getFile(c,{create:0==i,exclusive:!1},function(e){d(e)},function(e){DebugMsg("Error: Could not getFile, "+e.code),handleCallback(t,e.code)})}
if("object"==typeof n&&"string"==typeof n.nativeURL)if(n.isDirectory)s=n,u(s)
else{var f=n.nativeURL
f=f.substring(0,f.lastIndexOf("/")+1),window.resolveLocalFileSystemURL(f,function(e){u(e)},function(e){DebugMsg("Error: Failed to resolve directory URL from FileBrowser, "+e.code),handleCallback(t,e.code)})}else{var s=lastFolderSelected
u(s)}},u=null!=cordova.file.externalRootDirectory?cordova.file.externalRootDirectory:cordova.file.externalDataDirectory
c=prompt("Enter File Name",n)
var f=function(e){e.getDirectory("WebDGap",{create:!0},function(e){d(e)},function(){DebugMsg("failed to get webdgap dir"),handleCallback(t,1)})}
window.resolveLocalFileSystemURL(u,f,function(e){DebugMsg("failed to resolve parent dir"),handleCallback(t,1)})}PhoneGapRelatedJsLoaded=!0,document.addEventListener("deviceready",function(){onEnvReady()},!1)
